function _templateObject_cb2475204fe511e9ab8b8d361f77d375(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"iron-flex iron-flex-alignment\">\n      #dialog {\n        width: 90%;\n        max-width: 1024px;\n        background-color: #FFF;\n      }\n\n      iron-list {\n        color: #000;\n        height: 500px;\n        width: 100%;\n      }\n\n      .userItem {\n        padding-right: 16px;\n      }\n\n      .id {\n        width: 40px;\n      }\n\n      .name {\n        width: 200px;\n      }\n\n      .email {\n        width: 190px;\n        overflow-wrap: break-word;\n      }\n\n      .organization {\n        width: 150px;\n      }\n\n      .addRemoveButtons {\n        width: 150px;\n      }\n\n      #selectOrganizationDialog {\n        background-color: #FFF;\n\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      paper-listbox {\n        margin-right: 8px !important;\n      }\n\n      .headerBox {\n        background-color: var(--accent-color);\n        color: #FFF;\n        margin: 0;\n        padding: 0 0;\n        padding-top: 12px;\n        padding-bottom: 10px;\n      }\n\n      paper-button {\n        margin-left: 24px;\n      }\n\n      .inputBox {\n        margin-left: 16px;\n        padding-left: 8px;\n        padding-right: 8px;\n        padding-bottom: 4px;\n        margin-bottom: 4px;\n        align-self: flex-start;\n        background-color: #FFF;\n        color: #000;\n        margin-top: 2px;\n        margin-right: 12px;\n      }\n\n      #grid {\n        margin-top: 0;\n        margin-bottom: 0;\n      }\n\n      .headerText {\n        padding: 0 0 !important;\n      }\n\n      .collectionName {\n        font-size: 22px;\n        margin-bottom: 1px;\n        margin-top: 4px;\n      }\n\n      .innerHeader {\n        font-size: 17px;\n        color: #F5F5F5;\n      }\n\n      .closeButton {\n        width: 50px;\n        height: 50px;\n        margin-left: 4px;\n        margin-right: 4px;\n      }\n\n      @media (max-width: 600px) {\n        .closeButton {\n          width: 45px;\n          height: 45px;\n        }\n\n        .inputBox {\n          margin-top: 6px;\n        }\n\n        paper-listbox {\n          margin-right: 8px;\n        }\n\n        #dialog {\n          width: 100%;\n          height: 100%;\n          margin: 0;\n        }\n\n        .headerText {\n          font-size: 20px;\n          line-height: 1.2em;\n          text-align: center;\n        }\n      }\n\n      paper-spinner {\n        margin-left: 16px;\n        margin-top: 8px;\n        --paper-spinner-layer-1-color: #FFF;\n        --paper-spinner-layer-2-color: #FFF;\n        --paper-spinner-layer-3-color: #FFF;\n        --paper-spinner-layer-4-color: #FFF;\n      }\n\n      .inviteButton {\n        margin-top: 5px;\n      }\n    </style>\n    <lite-signal on-lite-signal-yp-language=\"_languageEvent\"></lite-signal>\n\n    <paper-dialog id=\"selectOrganizationDialog\" modal=\"\">\n      <h2>[[t('users.selectOrganization')]]</h2>\n      <paper-dialog-scrollable>\n        <paper-listbox>\n          <template is=\"dom-repeat\" items=\"[[availableOrganizations]]\">\n            <paper-item on-tap=\"_selectOrganization\" id=\"[[item.id]]\">[[item.name]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dialog-scrollable>\n\n      <div class=\"buttons\">\n        <paper-button dialog-dismiss=\"\">[[t('Close')]]</paper-button>\n      </div>\n    </paper-dialog>\n\n    <paper-dialog id=\"dialog\" modal=\"\">\n      <div class=\"layout horizontal headerBox wrap\">\n\n        <div>\n          <paper-icon-button aria-label$=\"[[t('close')]]\" id=\"dismissBtn\" icon=\"close\" class=\"closeButton\" dialog-dismiss=\"\"></paper-icon-button>\n        </div>\n\n        <div class=\"headerText layout vertical\">\n          <div class=\"layout horizontal\">\n            <div class=\"collectionName\">[[collectionName]]</div>\n          </div>\n          <div class=\"innerHeader\">[[headerText]]\n            <span hidden$=\"[[!totalUserCount]]\">([[totalUserCount]])</span>\n          </div>\n        </div>\n        <div hidden$=\"[[!spinnerActive]]\"><paper-spinner active=\"\"></paper-spinner></div>\n\n        <div class=\"flex\"></div>\n        <div hidden$=\"[[!showReload]]\">\n          <paper-icon-button aria-label$=\"[[t('reload')]]\" icon=\"autorenew\" class=\"closeButton\" on-tap=\"_reload\"></paper-icon-button>\n        </div>\n        <div hidden$=\"[[domainId]]\">\n          <paper-material hidden$=\"[[adminUsers]]\" class=\"layout horizontal wrap inputBox\">\n            <paper-input label=\"[[t('email')]]\" value=\"{{inviteUserEmail}}\"></paper-input>\n            <paper-button class=\"inviteButton\" on-tap=\"_inviteUser\">[[t('users.inviteUser')]]</paper-button>\n          </paper-material>\n        </div>\n\n        <paper-material hidden$=\"[[!adminUsers]]\" class=\"layout horizontal wrap inputBox\">\n          <paper-input label=\"[[t('email')]]\" value=\"{{addAdminEmail}}\"></paper-input>\n          <paper-button class=\"inviteButton\" on-tap=\"_addAdmin\">[[t('users.addAdmin')]]</paper-button>\n        </paper-material>\n      </div>\n\n      <vaadin-grid id=\"grid\" aria-label$=\"[[headerText]]\" items=\"[[users]]\" selected-items=\"{{selectedUsers}}\">\n        <vaadin-grid-selection-column auto-select=\"\">\n        </vaadin-grid-selection-column>\n\n        <vaadin-grid-column width=\"60px\" flex-grow=\"0\">\n          <template class=\"header\">#</template>\n          <template>[[item.id]]</template>\n        </vaadin-grid-column>\n\n        <vaadin-grid-filter-column flex-grow=\"2\" width=\"140px\" path=\"name\" header=\"[[t('name')]]\">\n          <template>[[item.name]]</template>\n        </vaadin-grid-filter-column>\n\n        <vaadin-grid-filter-column path=\"email\" flex-grow=\"1\" width=\"150px\" header=\"[[t('email')]]\">\n          <template>[[item.email]]</template>\n        </vaadin-grid-filter-column>\n\n        <vaadin-grid-column flex-grow=\"1\" width=\"150px\">\n          <template class=\"header\">[[t('organization')]]</template>\n          <template>\n            <div class=\"organization\" hidden$=\"[[!_userOrganizationName(item)]]\">\n              <div class=\"organizationName\">\n                [[_userOrganizationName(item)]]\n              </div>\n            </div>\n          </template>\n        </vaadin-grid-column>\n\n        <vaadin-grid-column width=\"70px\" flex-grow=\"0\">\n          <template class=\"header\">\n            <paper-menu-button horizontal-align=\"right\" class=\"helpButton\" disabled$=\"[[selectedUsersEmpty]]\">\n              <paper-icon-button aria-label$=\"[[t('openSelectedItemsMenu')]]\" icon=\"more-vert\" slot=\"dropdown-trigger\"></paper-icon-button>\n              <paper-listbox slot=\"dropdown-content\" on-iron-select=\"_menuSelection\">\n                <template is=\"dom-if\" if=\"[[!selectedUsersEmpty]]\" restamp=\"\">\n                  <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[adminUsers]]\" on-tap=\"_removeAndDeleteContentSelectedUsers\">\n                    [[t('removeSelectedAndDeleteContent')]] [[selectedUsersCount]]\n                  </paper-item>\n                  <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[adminUsers]]\" on-tap=\"_removeSelectedUsersFromCollection\">\n                    <div hidden$=\"[[!groupId]]\">\n                      [[t('removeSelectedFromGroup')]] [[selectedUsersCount]]\n                    </div>\n                    <div hidden$=\"[[!communityId]]\">\n                      [[t('removeSelectedFromCommunity')]] [[selectedUsersCount]]\n                    </div>\n                    <div hidden$=\"[[!domainId]]\">\n                      [[t('removeSelectedFromDomain')]] [[selectedUsersCount]]\n                    </div>\n                  </paper-item>\n                  <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[!adminUsers]]\" on-tap=\"_removeSelectedAdmins\">[[t('removeSelectedAdmins')]] [[selectedUsersCount]]</paper-item>\n                </template>\n              </paper-listbox>\n            </paper-menu-button>\n          </template>\n          <template>\n            <paper-menu-button horizontal-align=\"right\" class=\"helpButton\">\n              <paper-icon-button aria-label$=\"[[t('openOneItemMenu')]]\" icon=\"more-vert\" data-args$=\"[[item.id]]\" on-tap=\"_setSelected\" slot=\"dropdown-trigger\"></paper-icon-button>\n              <paper-listbox slot=\"dropdown-content\" on-iron-select=\"_menuSelection\">\n                <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[adminUsers]]\" on-tap=\"_removeUserFromCollection\">\n                  <div hidden$=\"[[!groupId]]\">\n                    [[t('removeFromGroup')]]\n                  </div>\n                  <div hidden$=\"[[!communityId]]\">\n                    [[t('removeFromCommunity')]]\n                  </div>\n                  <div hidden$=\"[[!domainId]]\">\n                    [[t('removeFromDomain')]]\n                  </div>\n                </paper-item>\n                <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[adminUsers]]\" on-tap=\"_removeAndDeleteUserContent\">\n                  <div hidden$=\"[[!groupId]]\">\n                    [[t('removeFromGroupDeleteContent')]]\n                  </div>\n                  <div hidden$=\"[[!communityId]]\">\n                    [[t('removeFromCommunityDeleteContent')]]\n                  </div>\n                  <div hidden$=\"[[!domainId]]\">\n                    [[t('removeFromDomainDeleteContent')]]\n                  </div>\n                </paper-item>\n                <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[!adminUsers]]\" on-tap=\"_removeAdmin\">[[t('users.removeAdmin')]]</paper-item>\n\n                <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[_userOrganizationName(item)]]\" on-tap=\"_addToOrganization\">[[t('users.addToOrganization')]]</paper-item>\n                <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[!_userOrganizationName(item)]]\" data-args-org$=\"[[_userOrganizationId(item)]]\" on-tap=\"_removeFromOrganization\">[[t('users.removeFromOrganization')]]</paper-item>\n              </paper-listbox>\n            </paper-menu-button>\n          </template>\n        </vaadin-grid-column>\n      </vaadin-grid>\n   </paper-dialog>\n\n    <div class=\"layout horizontal center-center\">\n      <yp-ajax id=\"ajax\" on-response=\"_usersResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeAdminAjax\" on-response=\"_removeAdminResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeManyAdminAjax\" on-response=\"_removeManyAdminResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeUserAjax\" on-response=\"_removeUserResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeManyUsersAjax\" on-response=\"_removeManyUsersResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeOrganizationAjax\" on-response=\"_removeOrganizationResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeAndDeleteAjax\" on-response=\"_removeAndDeleteCompleted\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeAndDeleteManyAjax\" on-response=\"_removeAndDeleteManyCompleted\"></yp-ajax>\n      <yp-ajax method=\"POST\" on-error=\"_ajaxError\" id=\"inviteUserAjax\" on-response=\"_inviteUserResponse\"></yp-ajax>\n      <yp-ajax method=\"POST\" on-error=\"_ajaxError\" id=\"addAdminAjax\" on-response=\"_addAdminResponse\"></yp-ajax>\n      <yp-ajax method=\"POST\" on-error=\"_ajaxError\" id=\"addOrganizationAjax\" on-response=\"_addOrganizationResponse\"></yp-ajax>\n    </div>\n"],["\n    <style include=\"iron-flex iron-flex-alignment\">\n      #dialog {\n        width: 90%;\n        max-width: 1024px;\n        background-color: #FFF;\n      }\n\n      iron-list {\n        color: #000;\n        height: 500px;\n        width: 100%;\n      }\n\n      .userItem {\n        padding-right: 16px;\n      }\n\n      .id {\n        width: 40px;\n      }\n\n      .name {\n        width: 200px;\n      }\n\n      .email {\n        width: 190px;\n        overflow-wrap: break-word;\n      }\n\n      .organization {\n        width: 150px;\n      }\n\n      .addRemoveButtons {\n        width: 150px;\n      }\n\n      #selectOrganizationDialog {\n        background-color: #FFF;\n\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      paper-listbox {\n        margin-right: 8px !important;\n      }\n\n      .headerBox {\n        background-color: var(--accent-color);\n        color: #FFF;\n        margin: 0;\n        padding: 0 0;\n        padding-top: 12px;\n        padding-bottom: 10px;\n      }\n\n      paper-button {\n        margin-left: 24px;\n      }\n\n      .inputBox {\n        margin-left: 16px;\n        padding-left: 8px;\n        padding-right: 8px;\n        padding-bottom: 4px;\n        margin-bottom: 4px;\n        align-self: flex-start;\n        background-color: #FFF;\n        color: #000;\n        margin-top: 2px;\n        margin-right: 12px;\n      }\n\n      #grid {\n        margin-top: 0;\n        margin-bottom: 0;\n      }\n\n      .headerText {\n        padding: 0 0 !important;\n      }\n\n      .collectionName {\n        font-size: 22px;\n        margin-bottom: 1px;\n        margin-top: 4px;\n      }\n\n      .innerHeader {\n        font-size: 17px;\n        color: #F5F5F5;\n      }\n\n      .closeButton {\n        width: 50px;\n        height: 50px;\n        margin-left: 4px;\n        margin-right: 4px;\n      }\n\n      @media (max-width: 600px) {\n        .closeButton {\n          width: 45px;\n          height: 45px;\n        }\n\n        .inputBox {\n          margin-top: 6px;\n        }\n\n        paper-listbox {\n          margin-right: 8px;\n        }\n\n        #dialog {\n          width: 100%;\n          height: 100%;\n          margin: 0;\n        }\n\n        .headerText {\n          font-size: 20px;\n          line-height: 1.2em;\n          text-align: center;\n        }\n      }\n\n      paper-spinner {\n        margin-left: 16px;\n        margin-top: 8px;\n        --paper-spinner-layer-1-color: #FFF;\n        --paper-spinner-layer-2-color: #FFF;\n        --paper-spinner-layer-3-color: #FFF;\n        --paper-spinner-layer-4-color: #FFF;\n      }\n\n      .inviteButton {\n        margin-top: 5px;\n      }\n    </style>\n    <lite-signal on-lite-signal-yp-language=\"_languageEvent\"></lite-signal>\n\n    <paper-dialog id=\"selectOrganizationDialog\" modal=\"\">\n      <h2>[[t('users.selectOrganization')]]</h2>\n      <paper-dialog-scrollable>\n        <paper-listbox>\n          <template is=\"dom-repeat\" items=\"[[availableOrganizations]]\">\n            <paper-item on-tap=\"_selectOrganization\" id=\"[[item.id]]\">[[item.name]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dialog-scrollable>\n\n      <div class=\"buttons\">\n        <paper-button dialog-dismiss=\"\">[[t('Close')]]</paper-button>\n      </div>\n    </paper-dialog>\n\n    <paper-dialog id=\"dialog\" modal=\"\">\n      <div class=\"layout horizontal headerBox wrap\">\n\n        <div>\n          <paper-icon-button aria-label\\$=\"[[t('close')]]\" id=\"dismissBtn\" icon=\"close\" class=\"closeButton\" dialog-dismiss=\"\"></paper-icon-button>\n        </div>\n\n        <div class=\"headerText layout vertical\">\n          <div class=\"layout horizontal\">\n            <div class=\"collectionName\">[[collectionName]]</div>\n          </div>\n          <div class=\"innerHeader\">[[headerText]]\n            <span hidden\\$=\"[[!totalUserCount]]\">([[totalUserCount]])</span>\n          </div>\n        </div>\n        <div hidden\\$=\"[[!spinnerActive]]\"><paper-spinner active=\"\"></paper-spinner></div>\n\n        <div class=\"flex\"></div>\n        <div hidden\\$=\"[[!showReload]]\">\n          <paper-icon-button aria-label\\$=\"[[t('reload')]]\" icon=\"autorenew\" class=\"closeButton\" on-tap=\"_reload\"></paper-icon-button>\n        </div>\n        <div hidden\\$=\"[[domainId]]\">\n          <paper-material hidden\\$=\"[[adminUsers]]\" class=\"layout horizontal wrap inputBox\">\n            <paper-input label=\"[[t('email')]]\" value=\"{{inviteUserEmail}}\"></paper-input>\n            <paper-button class=\"inviteButton\" on-tap=\"_inviteUser\">[[t('users.inviteUser')]]</paper-button>\n          </paper-material>\n        </div>\n\n        <paper-material hidden\\$=\"[[!adminUsers]]\" class=\"layout horizontal wrap inputBox\">\n          <paper-input label=\"[[t('email')]]\" value=\"{{addAdminEmail}}\"></paper-input>\n          <paper-button class=\"inviteButton\" on-tap=\"_addAdmin\">[[t('users.addAdmin')]]</paper-button>\n        </paper-material>\n      </div>\n\n      <vaadin-grid id=\"grid\" aria-label\\$=\"[[headerText]]\" items=\"[[users]]\" selected-items=\"{{selectedUsers}}\">\n        <vaadin-grid-selection-column auto-select=\"\">\n        </vaadin-grid-selection-column>\n\n        <vaadin-grid-column width=\"60px\" flex-grow=\"0\">\n          <template class=\"header\">#</template>\n          <template>[[item.id]]</template>\n        </vaadin-grid-column>\n\n        <vaadin-grid-filter-column flex-grow=\"2\" width=\"140px\" path=\"name\" header=\"[[t('name')]]\">\n          <template>[[item.name]]</template>\n        </vaadin-grid-filter-column>\n\n        <vaadin-grid-filter-column path=\"email\" flex-grow=\"1\" width=\"150px\" header=\"[[t('email')]]\">\n          <template>[[item.email]]</template>\n        </vaadin-grid-filter-column>\n\n        <vaadin-grid-column flex-grow=\"1\" width=\"150px\">\n          <template class=\"header\">[[t('organization')]]</template>\n          <template>\n            <div class=\"organization\" hidden\\$=\"[[!_userOrganizationName(item)]]\">\n              <div class=\"organizationName\">\n                [[_userOrganizationName(item)]]\n              </div>\n            </div>\n          </template>\n        </vaadin-grid-column>\n\n        <vaadin-grid-column width=\"70px\" flex-grow=\"0\">\n          <template class=\"header\">\n            <paper-menu-button horizontal-align=\"right\" class=\"helpButton\" disabled\\$=\"[[selectedUsersEmpty]]\">\n              <paper-icon-button aria-label\\$=\"[[t('openSelectedItemsMenu')]]\" icon=\"more-vert\" slot=\"dropdown-trigger\"></paper-icon-button>\n              <paper-listbox slot=\"dropdown-content\" on-iron-select=\"_menuSelection\">\n                <template is=\"dom-if\" if=\"[[!selectedUsersEmpty]]\" restamp=\"\">\n                  <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[adminUsers]]\" on-tap=\"_removeAndDeleteContentSelectedUsers\">\n                    [[t('removeSelectedAndDeleteContent')]] [[selectedUsersCount]]\n                  </paper-item>\n                  <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[adminUsers]]\" on-tap=\"_removeSelectedUsersFromCollection\">\n                    <div hidden\\$=\"[[!groupId]]\">\n                      [[t('removeSelectedFromGroup')]] [[selectedUsersCount]]\n                    </div>\n                    <div hidden\\$=\"[[!communityId]]\">\n                      [[t('removeSelectedFromCommunity')]] [[selectedUsersCount]]\n                    </div>\n                    <div hidden\\$=\"[[!domainId]]\">\n                      [[t('removeSelectedFromDomain')]] [[selectedUsersCount]]\n                    </div>\n                  </paper-item>\n                  <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[!adminUsers]]\" on-tap=\"_removeSelectedAdmins\">[[t('removeSelectedAdmins')]] [[selectedUsersCount]]</paper-item>\n                </template>\n              </paper-listbox>\n            </paper-menu-button>\n          </template>\n          <template>\n            <paper-menu-button horizontal-align=\"right\" class=\"helpButton\">\n              <paper-icon-button aria-label\\$=\"[[t('openOneItemMenu')]]\" icon=\"more-vert\" data-args\\$=\"[[item.id]]\" on-tap=\"_setSelected\" slot=\"dropdown-trigger\"></paper-icon-button>\n              <paper-listbox slot=\"dropdown-content\" on-iron-select=\"_menuSelection\">\n                <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[adminUsers]]\" on-tap=\"_removeUserFromCollection\">\n                  <div hidden\\$=\"[[!groupId]]\">\n                    [[t('removeFromGroup')]]\n                  </div>\n                  <div hidden\\$=\"[[!communityId]]\">\n                    [[t('removeFromCommunity')]]\n                  </div>\n                  <div hidden\\$=\"[[!domainId]]\">\n                    [[t('removeFromDomain')]]\n                  </div>\n                </paper-item>\n                <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[adminUsers]]\" on-tap=\"_removeAndDeleteUserContent\">\n                  <div hidden\\$=\"[[!groupId]]\">\n                    [[t('removeFromGroupDeleteContent')]]\n                  </div>\n                  <div hidden\\$=\"[[!communityId]]\">\n                    [[t('removeFromCommunityDeleteContent')]]\n                  </div>\n                  <div hidden\\$=\"[[!domainId]]\">\n                    [[t('removeFromDomainDeleteContent')]]\n                  </div>\n                </paper-item>\n                <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[!adminUsers]]\" on-tap=\"_removeAdmin\">[[t('users.removeAdmin')]]</paper-item>\n\n                <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[_userOrganizationName(item)]]\" on-tap=\"_addToOrganization\">[[t('users.addToOrganization')]]</paper-item>\n                <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[!_userOrganizationName(item)]]\" data-args-org\\$=\"[[_userOrganizationId(item)]]\" on-tap=\"_removeFromOrganization\">[[t('users.removeFromOrganization')]]</paper-item>\n              </paper-listbox>\n            </paper-menu-button>\n          </template>\n        </vaadin-grid-column>\n      </vaadin-grid>\n   </paper-dialog>\n\n    <div class=\"layout horizontal center-center\">\n      <yp-ajax id=\"ajax\" on-response=\"_usersResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeAdminAjax\" on-response=\"_removeAdminResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeManyAdminAjax\" on-response=\"_removeManyAdminResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeUserAjax\" on-response=\"_removeUserResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeManyUsersAjax\" on-response=\"_removeManyUsersResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeOrganizationAjax\" on-response=\"_removeOrganizationResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeAndDeleteAjax\" on-response=\"_removeAndDeleteCompleted\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" on-error=\"_ajaxError\" id=\"removeAndDeleteManyAjax\" on-response=\"_removeAndDeleteManyCompleted\"></yp-ajax>\n      <yp-ajax method=\"POST\" on-error=\"_ajaxError\" id=\"inviteUserAjax\" on-response=\"_inviteUserResponse\"></yp-ajax>\n      <yp-ajax method=\"POST\" on-error=\"_ajaxError\" id=\"addAdminAjax\" on-response=\"_addAdminResponse\"></yp-ajax>\n      <yp-ajax method=\"POST\" on-error=\"_ajaxError\" id=\"addOrganizationAjax\" on-response=\"_addOrganizationResponse\"></yp-ajax>\n    </div>\n"]);_templateObject_cb2475204fe511e9ab8b8d361f77d375=function _templateObject_cb2475204fe511e9ab8b8d361f77d375(){return data};return data}import{ypNumberFormatBehavior,ypLanguageBehavior,Polymer,html,dom}from"../yp-app/yp-app.js";Polymer({_template:html(_templateObject_cb2475204fe511e9ab8b8d361f77d375()),is:"yp-users-grid",behaviors:[ypLanguageBehavior,ypNumberFormatBehavior],properties:{addAdminEmail:{type:String},inviteUserEmail:{type:String},users:{type:Array,notify:!0,value:null},headerText:{type:String},groupId:{type:Number,observer:"_groupIdChanged"},domainId:{type:Number,observer:"_domainIdChanged"},communityId:{type:Number,observer:"_communityIdChanged"},adminUsers:{type:Boolean,value:!1},selected:{type:Object},modelType:{type:String},opened:{type:Boolean,value:!1},availableOrganizations:{type:Array},userIdForSelectingOrganization:Number,selectedUsers:{type:Array,notify:!0},selectedUsersCount:{type:Number,value:0},selectedUsersEmpty:{type:Boolean,value:!0},selectedUserIds:{type:Array},selectedUserId:{type:String},totalUserCount:{type:String,computed:"_totalUserCount(users)"},collectionName:String,usersCountText:String,showReload:{type:Boolean,value:!1},forceSpinner:{type:Boolean,value:!1},spinnerActive:{type:Boolean,computed:"_spinnerActive(totalUserCount, forceSpinner)"}},observers:["_selectedUsersChanged(selectedUsers.splices)"],_spinnerActive:function _spinnerActive(count,force){return!count||force},_ajaxError:function _ajaxError(){this.set("forceSpinner",!1)},ready:function ready(){this._setGridSize();window.addEventListener("resize",this._resizeThrottler.bind(this),!1)},_reload:function _reload(){this.$.ajax.generateRequest();this.set("forceSpinner",!0)},_resizeThrottler:function _resizeThrottler(){if(!this.resizeTimeout){this.resizeTimeout=setTimeout(function(){this.resizeTimeout=null;this._setGridSize()}.bind(this),66)}},_setGridSize:function _setGridSize(){if(600>=window.innerWidth){this.$.grid.style.height=window.innerHeight.toFixed()+"px"}else{this.$.grid.style.height=(.8*window.innerHeight).toFixed()+"px"}},_menuSelection:function _menuSelection(event,detail){var allMenus=this.$.grid.querySelectorAll("paper-listbox");allMenus.forEach(function(item){item.select(null)})},_totalUserCount:function _totalUserCount(users){if(users){return this.formatNumber(users.length)}else{return null}},_selectedUsersChanged:function _selectedUsersChanged(){if(this.selectedUsers&&0<this.selectedUsers.length){this.set("selectedUsersEmpty",!1);this.set("selectedUsersCount",this.selectedUsers.length)}else{this.set("selectedUsersEmpty",!0);this.set("selectedUsersCount",0)}this.selectedUserIds=this.selectedUsers.map(function(user){return user.id})},_userOrganizationId:function _userOrganizationId(user){if(user&&user.OrganizationUsers&&0<user.OrganizationUsers.length){return user.OrganizationUsers[0].id}else{return null}},_userOrganizationName:function _userOrganizationName(user){if(user&&user.OrganizationUsers&&0<user.OrganizationUsers.length){return user.OrganizationUsers[0].name}else{return null}},_availableOrganizations:function _availableOrganizations(){if(window.appUser.adminRights&&window.appUser.adminRights.OrganizationAdmins){return window.appUser.adminRights.OrganizationAdmins}else{return[]}},_addToOrganization:function _addToOrganization(event){this.set("userIdForSelectingOrganization",event.target.getAttribute("data-args"));this.set("availableOrganizations",this._availableOrganizations());this.$.selectOrganizationDialog.open()},_removeFromOrganization:function _removeFromOrganization(event){var userId=event.target.getAttribute("data-args"),organizationId=event.target.getAttribute("data-args-org");this.$.removeOrganizationAjax.body={};this.$.removeOrganizationAjax.url="/api/organizations/"+organizationId+"/"+userId+"/remove_user";this.$.removeOrganizationAjax.generateRequest()},_selectOrganization:function _selectOrganization(event,detail){this.$.addOrganizationAjax.body={};this.$.addOrganizationAjax.url="/api/organizations/"+event.target.id+"/"+this.userIdForSelectingOrganization+"/add_user";this.$.addOrganizationAjax.generateRequest();this.$.selectOrganizationDialog.close()},_removeAdmin:function _removeAdmin(event){var userId=event.target.getAttribute("data-args");this.$.removeAdminAjax.body={};if("groups"==this.modelType&&this.groupId){this.$.removeAdminAjax.url="/api/"+this.modelType+"/"+this.groupId+"/"+userId+"/remove_admin";this.$.removeAdminAjax.generateRequest()}else if("communities"==this.modelType&&this.communityId){this.$.removeAdminAjax.url="/api/"+this.modelType+"/"+this.communityId+"/"+userId+"/remove_admin";this.$.removeAdminAjax.generateRequest()}else if("domains"==this.modelType&&this.domainId){this.$.removeAdminAjax.url="/api/"+this.modelType+"/"+this.domainId+"/"+userId+"/remove_admin";this.$.removeAdminAjax.generateRequest()}else{console.warn("Can't find model type or ids")}},_removeSelectedAdmins:function _removeSelectedAdmins(event){this._setupUserIdFromEvent(event);dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("areYouSureYouWantToRemoveAdmins"),this._reallyRemoveSelectedAdmins.bind(this),!0,!1)}.bind(this))},_removeAndDeleteContentSelectedUsers:function _removeAndDeleteContentSelectedUsers(event){this._setupUserIdFromEvent(event);dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("areYouSureRemoveAndDeleteSelectedUserContent"),this._reallyRemoveAndDeleteContentSelectedUsers.bind(this),!0,!0)}.bind(this))},_removeSelectedUsersFromCollection:function _removeSelectedUsersFromCollection(event){this._setupUserIdFromEvent(event);dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("areYouSureRemoveSelectedUsers"),this._reallyRemoveSelectedUsersFromCollection.bind(this),!0,!0)}.bind(this))},_removeUserFromCollection:function _removeUserFromCollection(event){this._setupUserIdFromEvent(event);dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("areYouSureRemoveUser"),this._reallyRemoveUserFromCollection.bind(this),!0,!1)}.bind(this))},_removeAndDeleteUserContent:function _removeAndDeleteUserContent(event){this._setupUserIdFromEvent(event);dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("areYouSureRemoveAndDeleteUser"),this._reallyRemoveAndDeleteUserContent.bind(this),!0,!0)}.bind(this))},_reallyRemoveSelectedAdmins:function _reallyRemoveSelectedAdmins(){this._removeMaster(this.$.removeManyAdminAjax,"remove_many_admins",this.selectedUserIds)},_reallyRemoveAndDeleteContentSelectedUsers:function _reallyRemoveAndDeleteContentSelectedUsers(){this._removeMaster(this.$.removeAndDeleteManyAjax,"remove_many_users_and_delete_content",this.selectedUserIds)},_reallyRemoveSelectedUsersFromCollection:function _reallyRemoveSelectedUsersFromCollection(){this._removeMaster(this.$.removeManyUsersAjax,"remove_many_users",this.selectedUserIds)},_reallyRemoveUserFromCollection:function _reallyRemoveUserFromCollection(){this._removeMaster(this.$.removeUserAjax,"remove_user")},_reallyRemoveAndDeleteUserContent:function _reallyRemoveAndDeleteUserContent(){this._removeMaster(this.$.removeAndDeleteAjax,"remove_and_delete_user_content")},_setupUserIdFromEvent:function _setupUserIdFromEvent(event){var userId=event.target.parentElement.getAttribute("data-args");if(!userId)userId=event.target.getAttribute("data-args");this.set("selectedUserId",userId)},_removeMaster:function _removeMaster(ajax,type,userIds){var url,collectionId;if("groups"===this.modelType&&this.groupId){collectionId=this.groupId}else if("communities"===this.modelType&&this.communityId){collectionId=this.communityId}else if("domains"===this.modelType&&this.domainId){collectionId=this.domainId}else{console.error("Can't find model type or ids");return}if(userIds&&0<userIds.length){url="/api/"+this.modelType+"/"+collectionId+"/"+type;ajax.body={userIds:userIds}}else if(this.selectedUserId){url="/api/"+this.modelType+"/"+collectionId+"/"+this.selectedUserId+"/"+type;ajax.body={}}else{console.error("No user ids to remove");return}if("groups"===this.modelType&&this.groupId){ajax.url=url;ajax.generateRequest();this.set("forceSpinner",!0)}else if("communities"===this.modelType&&this.communityId){ajax.url=url;ajax.generateRequest();this.set("forceSpinner",!0)}else if("domains"===this.modelType&&this.domainId){ajax.url=url;ajax.generateRequest();this.set("forceSpinner",!0)}else{console.warn("Can't find model type or ids")}if(this.selectedUserId){var user=this._findUserFromId(this.selectedUserId);if(user)this.$.grid.deselectItem(user)}},_setSelected:function _setSelected(event){var user=this._findUserFromId(event.target.getAttribute("data-args"));if(user)this.$.grid.selectItem(user)},_findUserFromId:function _findUserFromId(id){var foundUser;this.users.forEach(function(user){if(user.id==id){foundUser=user}}.bind(this));return foundUser},_addAdmin:function _addAdmin(event){this.$.addAdminAjax.body={};if("groups"===this.modelType&&this.groupId){this.$.addAdminAjax.url="/api/"+this.modelType+"/"+this.groupId+"/"+this.addAdminEmail+"/add_admin";this.$.addAdminAjax.generateRequest()}else if("communities"===this.modelType&&this.communityId){this.$.addAdminAjax.url="/api/"+this.modelType+"/"+this.communityId+"/"+this.addAdminEmail+"/add_admin";this.$.addAdminAjax.generateRequest()}else if("domains"===this.modelType&&this.domainId){this.$.addAdminAjax.url="/api/"+this.modelType+"/"+this.domainId+"/"+this.addAdminEmail+"/add_admin";this.$.addAdminAjax.generateRequest()}else{console.warn("Can't find model type or ids")}},_inviteUser:function _inviteUser(event){this.$.inviteUserAjax.body={};if("groups"===this.modelType&&this.groupId){this.$.inviteUserAjax.url="/api/"+this.modelType+"/"+this.groupId+"/"+this.inviteUserEmail+"/invite_user";this.$.inviteUserAjax.generateRequest()}else if("communities"===this.modelType&&this.communityId){this.$.inviteUserAjax.url="/api/"+this.modelType+"/"+this.communityId+"/"+this.inviteUserEmail+"/invite_user";this.$.inviteUserAjax.generateRequest()}else{console.warn("Can't find model type or ids")}},_manyItemsResponse:function _manyItemsResponse(showToast){this.set("forceSpinner",!1);debugger;this.set("showReload",!0);if(showToast)window.appGlobals.notifyUserViaToast(this.t("operationInProgressTryReloading"))},_removeAdminResponse:function _removeAdminResponse(){window.appGlobals.notifyUserViaToast(this.t("adminRemoved"));this._reload()},_removeManyAdminResponse:function _removeManyAdminResponse(){dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("removalsInProgress"),null,!0,!1,!0)}.bind(this));this._manyItemsResponse()},_removeManyUsersResponse:function _removeManyUsersResponse(){dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("removalsInProgress"),null,!0,!1,!0)}.bind(this));this._manyItemsResponse()},_removeAndDeleteCompleted:function _removeAndDeleteCompleted(){dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("removalAndDeletionInProgress"),null,!0,!1,!0)}.bind(this));this._manyItemsResponse()},_removeAndDeleteManyCompleted:function _removeAndDeleteManyCompleted(){dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("removalsAndDeletionsInProgress"),null,!0,!1,!0)}.bind(this));this._manyItemsResponse()},_removeUserResponse:function _removeUserResponse(){window.appGlobals.notifyUserViaToast(this.t("userRemoved"));this._reload()},_addAdminResponse:function _addAdminResponse(){window.appGlobals.notifyUserViaToast(this.t("adminAdded")+" "+this.addAdminEmail);this.set("addAdminEmail",null);this._reload()},_addOrganizationResponse:function _addOrganizationResponse(event,detail){window.appGlobals.notifyUserViaToast(this.t("organizationUserAdded")+" "+detail.response.email);this._reload()},_removeOrganizationResponse:function _removeOrganizationResponse(event,detail){window.appGlobals.notifyUserViaToast(this.t("organizationUserRemoved")+" "+detail.response.email);this._reload()},_inviteUserResponse:function _inviteUserResponse(){window.appGlobals.notifyUserViaToast(this.t("users.userInvited")+" "+this.inviteUserEmail);this.set("inviteUserEmail",null);this._reload()},_domainIdChanged:function _domainIdChanged(newGroupId){if(newGroupId){this._reset();this.set("modelType","domains");this._generateRequest(newGroupId)}},_groupIdChanged:function _groupIdChanged(newGroupId){if(newGroupId){this._reset();this.set("modelType","groups");this._generateRequest(newGroupId)}},_communityIdChanged:function _communityIdChanged(newCommunityId){if(newCommunityId){this._reset();this.set("modelType","communities");this._generateRequest(newCommunityId)}},_generateRequest:function _generateRequest(id){var adminsOrUsers=this.adminUsers?"admin_users":"users";this.$.ajax.url="/api/"+this.modelType+"/"+id+"/"+adminsOrUsers;this.$.ajax.generateRequest()},_usersResponse:function _usersResponse(event,detail){this.set("forceSpinner",!1);this.set("users",detail.response);this._resetSelectedAndClearCache()},setup:function setup(groupId,communityId,domainId,adminUsers){this.set("groupId",null);this.set("communityId",null);this.set("domainId",null);this.set("users",null);this.set("adminUsers",adminUsers);if(groupId)this.set("groupId",groupId);if(communityId)this.set("communityId",communityId);if(domainId)this.set("domainId",domainId);this._setupHeaderText()},open:function open(name){this.set("opened",!0);this.set("collectionName",name);this.$.dialog.open()},_reset:function _reset(){this.set("users",null);this._resetSelectedAndClearCache()},_resetSelectedAndClearCache:function _resetSelectedAndClearCache(){this.set("selectedUsers",[]);this.set("selectedUsersCount",0);this.set("selectedUsersEmpty",!0);this.$.grid.clearCache()},_setupHeaderText:function _setupHeaderText(){if(this.adminUsers){this.set("usersCountText",this.t("adminsCount"))}else{this.set("usersCountText",this.t("usersCount"))}if(this.groupId){if(this.adminUsers){this.set("headerText",this.t("group.admins"))}else{this.set("headerText",this.t("group.users"))}}else if(this.communityId){if(this.adminUsers){this.set("headerText",this.t("community.admins"))}else{this.set("headerText",this.t("community.users"))}}else if(this.domainId){if(this.adminUsers){this.set("headerText",this.t("domainAdmins"))}else{this.set("headerText",this.t("domainUsers"))}}}});