function _templateObject_cb1b74704fe511e9ab8b8d361f77d375(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"iron-flex iron-flex-alignment\">\n      #dialog {\n        width: 100%;\n        height: 100%;\n        margin: 0;\n        top: unset !important;\n        left: unset !important;\n        background-color: #FFF;\n      }\n\n      .itemItem {\n        padding-right: 16px;\n      }\n\n      .id {\n        width: 40px;\n      }\n\n      .name {\n        width: 200px;\n      }\n\n      .email {\n        width: 190px;\n        overflow-wrap: break-word;\n      }\n\n      .addDeletedButtons {\n        width: 150px;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      paper-listbox {\n        margin-right: 8px !important;\n      }\n\n      .headerBox {\n        background-color: var(--accent-color);\n        color: #FFF;\n        margin: 0;\n        padding: 0 0;\n        padding-top: 12px;\n        padding-bottom: 10px;\n      }\n\n      paper-button {\n        margin-left: 8px;\n      }\n\n      #grid {\n        margin-top: 0;\n      }\n\n      .headerText {\n        padding: 0 0 !important;\n      }\n\n      .collectionName {\n        font-size: 22px;\n        margin-bottom: 1px;\n        margin-top: 4px;\n      }\n\n      .innerHeader {\n        font-size: 17px;\n        color: #F5F5F5;\n      }\n\n      .closeButton {\n        width: 50px;\n        height: 50px;\n        margin-left: 4px;\n        margin-right: 4px;\n      }\n\n      paper-checkbox {\n        color: #FFF !important;\n        margin-top: 16px;\n        margin-right: 24px;\n        --primary-color: #FFF;\n        --primary-text-color: #FFF;\n        --paper-checkbox-checked-ink-color: #FFF;\n        --paper-checkbox-unchecked-ink-color: #FFF;\n      }\n\n      @media (max-width: 600px) {\n        .closeButton {\n          width: 45px;\n          height: 45px;\n        }\n\n        paper-listbox {\n          margin-right: 8px;\n        }\n\n        #dialog {\n          width: 100%;\n          height: 100%;\n          margin: 0;\n          padding: 0;\n        }\n\n        .headerText {\n          font-size: 20px;\n          line-height: 1.2em;\n          text-align: center;\n        }\n      }\n\n      .details {\n        display: flex;\n        margin: 8px;\n      }\n\n      yp-point {\n        min-height: 100px;\n        max-width: 500px;\n        margin-bottom: 8px;\n      }\n\n      yp-post-header {\n        margin-bottom: 8px;\n      }\n\n      paper-button {\n        font-size: 18px;\n        margin-top: 16px;\n      }\n\n      .analysis {\n        margin-top: 12px;\n        color: #656565;\n      }\n\n      .leftColumn {\n        padding-right: 16px;\n      }\n\n      .mainScore {\n        color: #000;\n      }\n\n      paper-spinner {\n        margin-left: 20px;\n        margin-top: 8px;\n        --paper-spinner-layer-1-color: #FFF;\n        --paper-spinner-layer-2-color: #FFF;\n        --paper-spinner-layer-3-color: #FFF;\n        --paper-spinner-layer-4-color: #FFF;\n      }\n\n      .linkIcon {\n        color: #000;\n      }\n    </style>\n    <lite-signal on-lite-signal-yp-language=\"_languageEvent\"></lite-signal>\n\n    <paper-dialog id=\"dialog\" modal=\"\">\n      <div class=\"layout horizontal headerBox wrap\">\n        <div>\n          <paper-icon-button aria-label$=\"[[t('close')]]\" id=\"dismissBtn\" icon=\"close\" class=\"closeButton\" dialog-dismiss=\"\"></paper-icon-button>\n        </div>\n\n        <div class=\"headerText layout vertical\">\n          <div class=\"layout horizontal\">\n            <div class=\"collectionName\">[[collectionName]]</div>\n          </div>\n          <div class=\"innerHeader\">[[headerText]]\n            <span hidden$=\"[[!totalItemsCount]]\">([[totalItemsCount]] [[itemsCountText]])</span>\n          </div>\n        </div>\n        <div hidden$=\"[[!spinnerActive]]\"><paper-spinner active=\"\"></paper-spinner></div>\n        <div class=\"flex\"></div>\n        <div class=\"checkBox\" hidden$=\"[[narrow]]\"><paper-checkbox checked=\"{{multiSortEnabled}}\">[[t('multiSortEnabled')]]</paper-checkbox></div>\n        <div hidden$=\"[[!showReload]]\">\n          <paper-icon-button aria-label$=\"[[t('reload')]]\" icon=\"autorenew\" class=\"closeButton\" on-tap=\"_reload\"></paper-icon-button>\n        </div>\n      </div>\n\n      <vaadin-grid id=\"grid\" multi-sort=\"[[multiSortEnabled]]\" active-item=\"{{activeItem}}\" aria-label$=\"[[headerText]]\" items=\"[[items]]\" selected-items=\"{{selectedItems}}\">\n        <vaadin-grid-selection-column>\n        </vaadin-grid-selection-column>\n\n        <template class=\"row-details\">\n          <div class=\"details layout vertical center-center detailArea\">\n            <div class=\"layout horizontal\">\n              <template is=\"dom-if\" if=\"[[item.is_post]]\">\n                <div class=\"layout vertical center-center\">\n                  <yp-post-header hide-actions=\"\" post=\"[[item]]\" post-name=\"[[item.name]]\" header-mode=\"\"></yp-post-header>\n                  <a href=\"/post/[[item.id]]\" target=\"_blank\"><paper-icon-button aria-label$=\"[[t('linkToContentItem')]]\" class=\"linkIcon\" icon=\"link\"></paper-icon-button></a>\n                </div>\n              </template>\n              <template is=\"dom-if\" if=\"[[item.is_point]]\">\n                <div class=\"layout vertical center-center\">\n                  <yp-point hide-actions=\"\" point=\"[[item]]\"></yp-point>\n                  <a hidden$=\"[[!item.post_id]]\" href=\"/post/[[item.post_id]]/[[item.id]]\" target=\"_blank\"><paper-icon-button aria-label$=\"[[t('linkToContentItem')]]\" class=\"linkIcon\" icon=\"link\"></paper-icon-button></a>\n                </div>\n              </template>\n            </div>\n            <div hidden$=\"[[!item.toxicityScore]]\" class=\"layout horizontal analysis\">\n              <div class=\"layout vertical leftColumn\" hidden$=\"[[userId]]\">\n                <div class=\"mainScore\" hidden$=\"[[!item.moderation_data.moderation.toxicityScore]]\">Toxicity Score: [[_toPercent(item.moderation_data.moderation.toxicityScore)]]</div>\n                <div hidden$=\"[[!item.moderation_data.moderation.identityAttackScore]]\">Identity Attack Score: [[_toPercent(item.moderation_data.moderation.identityAttackScore)]]</div>\n                <div hidden$=\"[[!item.moderation_data.moderation.identityAttachScore]]\">Identity Attack Score: [[_toPercent(item.moderation_data.moderation.identityAttachScore)]]</div>\n                <div hidden$=\"[[!item.moderation_data.moderation.threatScore]]\">Threat Score: [[_toPercent(item.moderation_data.moderation.threatScore)]]</div>\n                <div hidden$=\"[[!item.moderation_data.moderation.insultScore]]\">Insult Score: [[_toPercent(item.moderation_data.moderation.insultScore)]]</div>\n              </div>\n              <div class=\"layout vertical\" hidden$=\"[[userId]]\">\n                <div class=\"mainScore\" hidden$=\"[[!item.moderation_data.moderation.severeToxicityScore]]\">Severe Toxicity Score: [[_toPercent(item.moderation_data.moderation.severeToxicityScore)]]</div>\n                <div hidden$=\"[[!item.moderation_data.moderation.profanityScore]]\">Profanity Score: [[_toPercent(item.moderation_data.moderation.profanityScore)]]</div>\n                <div hidden$=\"[[!item.moderation_data.moderation.sexuallyExplicitScore]]\">Sexually Excplicit Score: [[_toPercent(item.moderation_data.moderation.sexuallyExplicitScore)]]</div>\n                <div hidden$=\"[[!item.moderation_data.moderation.flirtationScore]]\">Flirtation Score: [[_toPercent(item.moderation_data.moderation.flirtationScore)]]</div>\n              </div>\n            </div>\n          </div>\n        </template>\n\n        <vaadin-grid-sort-column width=\"130px\" flex-grow=\"0\" path=\"firstReportedDate\" header=\"[[t('firstReported')]]\" hidden$=\"[[onlyFlaggedItems]]\">\n          <template>[[item.firstReportedDateFormatted]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"130px\" flex-grow=\"0\" path=\"lastReportedAtDate\" header=\"[[t('lastReported')]]\" hidden$=\"[[userId]]\">\n          <template>[[item.lastReportedAtDateFormatted]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"100px\" text-align=\"start\" flex-grow=\"0\" path=\"type\" header=\"[[t('type')]]\">\n          <template>[[_getType(item.type)]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"120px\" text-align=\"start\" flex-grow=\"0\" path=\"status\" header=\"[[t('publishStatus')]]\">\n          <template>[[item.status]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"80px\" text-align=\"center\" flex-grow=\"0\" path=\"counter_flags\" header=\"[[t('flags')]]\" hidden$=\"[[userId]]\">\n          <template>[[item.counter_flags]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"130px\" text-align=\"start\" flex-grow=\"0\" path=\"source\" header=\"[[t('source')]]\" hidden$=\"[[!onlyFlaggedItems]]\">\n          <template>[[item.source]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"100px\" text-align=\"center\" flex-grow=\"0\" path=\"toxicityScoreRaw\" header=\"[[t('toxicityScore')]]?\" hidden$=\"[[userId]]\">\n          <template>[[item.toxicityScore]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"150px\" text-align=\"start\" flex-grow=\"1\" path=\"groupName\" header=\"[[t('groupName')]]\" hidden$=\"[[!userId]]\">\n          <template>[[item.groupName]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-filter-column width=\"200px\" flex-grow=\"4\" path=\"content\" header=\"[[t('content')]]\" hidden$=\"[[narrow]]\">\n          <template>\n            <div class=\"layout horizontal\">\n              <yp-magic-text content-id=\"[[item.id]]\" content=\"[[item.pointTextContent]]\" text-type=\"pointContent\"></yp-magic-text>\n              <yp-magic-text content-id=\"[[item.id]]\" content=\"[[item.postNameContent]]\" text-type=\"postName\"></yp-magic-text> &nbsp;\n              <yp-magic-text content-id=\"[[item.id]]\" content=\"[[item.postTextContent]]\" text-type=\"postContent\"></yp-magic-text> &nbsp;\n              <yp-magic-text content-id=\"[[item.id]]\" content=\"[[item.postTranscriptContent]]\" text-type=\"postTranscriptContent\"></yp-magic-text>\n            </div>\n          </template>\n        </vaadin-grid-filter-column>\n\n        <vaadin-grid-filter-column flex-grow=\"1\" path=\"user_email\" width=\"150px\" header=\"[[t('creator')]]\" hidden$=\"[[userId]]\">\n          <template>[[item.user_email]]</template>\n        </vaadin-grid-filter-column>\n\n        <vaadin-grid-filter-column flex-grow=\"0\" path=\"lastReportedByEmail\" width=\"150px\" header=\"[[t('flaggedBy')]]\" hidden$=\"[[!onlyFlaggedItems]]\">\n        </vaadin-grid-filter-column>\n\n        <vaadin-grid-column width=\"70px\" flex-grow=\"0\">\n          <template class=\"header\">\n            <paper-menu-button horizontal-align=\"right\" class=\"helpButton\" disabled$=\"[[selectedItemsEmpty]]\">\n              <paper-icon-button aria-label$=\"[[t('openSelectedItemsMenu')]]\" icon=\"more-vert\" slot=\"dropdown-trigger\"></paper-icon-button>\n              <paper-listbox slot=\"dropdown-content\" on-iron-select=\"_menuSelection\">\n                <template is=\"dom-if\" if=\"[[!selectedItemsEmpty]]\" restamp=\"\">\n                  <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[userId]]\" on-tap=\"_approveSelected\">\n                    [[t('approveSelectedContent')]] [[selectedItemsCount]]\n                  </paper-item>\n                  <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[!onlyFlaggedItems]]\" on-tap=\"_clearSelectedFlags\">\n                    [[t('clearSelectedFlags')]] [[selectedItemsCount]]\n                  </paper-item>\n                  <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[userId]]\" on-tap=\"_blockSelected\">\n                    [[t('blockSelectedContent')]] [[selectedItemsCount]]\n                  </paper-item>\n                  <paper-item data-args$=\"[[item.id]]\" hidden$=\"[[!userId]]\" on-tap=\"_anonymizeSelected\">\n                    [[t('anonymizeSelectedContent')]] [[selectedItemsCount]]\n                  </paper-item>\n                  <paper-item data-args$=\"[[item.id]]\" on-tap=\"_deleteSelected\">\n                    [[t('deleteSelectedContent')]] [[selectedItemsCount]]\n                  </paper-item>\n                </template>\n              </paper-listbox>\n            </paper-menu-button>\n          </template>\n          <template>\n            <paper-menu-button horizontal-align=\"right\" class=\"helpButton\">\n              <paper-icon-button aria-label$=\"[[t('openOneItemMenu')]]\" icon=\"more-vert\" data-args$=\"[[item.id]]\" on-tap=\"_setSelected\" slot=\"dropdown-trigger\"></paper-icon-button>\n              <paper-listbox slot=\"dropdown-content\" on-iron-select=\"_menuSelection\">\n                <paper-item data-args$=\"[[item.id]]\" data-model-class$=\"[[item.type]]\" hidden$=\"[[userId]]\" on-tap=\"_approve\">\n                  [[t('approveContent')]]\n                </paper-item>\n                <paper-item data-args$=\"[[item.id]]\" data-model-class$=\"[[item.type]]\" hidden$=\"[[!onlyFlaggedItems]]\" on-tap=\"_clearFlags\">\n                  [[t('clearFlags')]]\n                </paper-item>\n                <paper-item data-args$=\"[[item.id]]\" data-model-class$=\"[[item.type]]\" hidden$=\"[[userId]]\" on-tap=\"_block\">\n                  [[t('blockContent')]]\n                </paper-item>\n                <paper-item data-args$=\"[[item.id]]\" data-model-class$=\"[[item.type]]\" hidden$=\"[[!userId]]\" on-tap=\"_anonymize\">\n                  [[t('anonymizeContent')]]\n                </paper-item>\n                <paper-item data-args$=\"[[item.id]]\" data-model-class$=\"[[item.type]]\" on-tap=\"_delete\">\n                  [[t('deleteContent')]]\n                </paper-item>\n              </paper-listbox>\n            </paper-menu-button>\n          </template>\n        </vaadin-grid-column>\n      </vaadin-grid>\n    </paper-dialog>\n\n    <div class=\"layout horizontal center-center\">\n      <yp-ajax id=\"ajax\" on-response=\"_itemsResponse\" on-error=\"_ajaxError\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" id=\"singleItemAjax\" on-error=\"_ajaxError\" on-response=\"_singleItemResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" id=\"manyItemsAjax\" on-error=\"_ajaxError\" on-response=\"_manyItemsResponse\"></yp-ajax>\n    </div>\n    <iron-media-query query=\"(max-width: 600px)\" query-matches=\"{{narrow}}\"></iron-media-query>\n"],["\n    <style include=\"iron-flex iron-flex-alignment\">\n      #dialog {\n        width: 100%;\n        height: 100%;\n        margin: 0;\n        top: unset !important;\n        left: unset !important;\n        background-color: #FFF;\n      }\n\n      .itemItem {\n        padding-right: 16px;\n      }\n\n      .id {\n        width: 40px;\n      }\n\n      .name {\n        width: 200px;\n      }\n\n      .email {\n        width: 190px;\n        overflow-wrap: break-word;\n      }\n\n      .addDeletedButtons {\n        width: 150px;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      paper-listbox {\n        margin-right: 8px !important;\n      }\n\n      .headerBox {\n        background-color: var(--accent-color);\n        color: #FFF;\n        margin: 0;\n        padding: 0 0;\n        padding-top: 12px;\n        padding-bottom: 10px;\n      }\n\n      paper-button {\n        margin-left: 8px;\n      }\n\n      #grid {\n        margin-top: 0;\n      }\n\n      .headerText {\n        padding: 0 0 !important;\n      }\n\n      .collectionName {\n        font-size: 22px;\n        margin-bottom: 1px;\n        margin-top: 4px;\n      }\n\n      .innerHeader {\n        font-size: 17px;\n        color: #F5F5F5;\n      }\n\n      .closeButton {\n        width: 50px;\n        height: 50px;\n        margin-left: 4px;\n        margin-right: 4px;\n      }\n\n      paper-checkbox {\n        color: #FFF !important;\n        margin-top: 16px;\n        margin-right: 24px;\n        --primary-color: #FFF;\n        --primary-text-color: #FFF;\n        --paper-checkbox-checked-ink-color: #FFF;\n        --paper-checkbox-unchecked-ink-color: #FFF;\n      }\n\n      @media (max-width: 600px) {\n        .closeButton {\n          width: 45px;\n          height: 45px;\n        }\n\n        paper-listbox {\n          margin-right: 8px;\n        }\n\n        #dialog {\n          width: 100%;\n          height: 100%;\n          margin: 0;\n          padding: 0;\n        }\n\n        .headerText {\n          font-size: 20px;\n          line-height: 1.2em;\n          text-align: center;\n        }\n      }\n\n      .details {\n        display: flex;\n        margin: 8px;\n      }\n\n      yp-point {\n        min-height: 100px;\n        max-width: 500px;\n        margin-bottom: 8px;\n      }\n\n      yp-post-header {\n        margin-bottom: 8px;\n      }\n\n      paper-button {\n        font-size: 18px;\n        margin-top: 16px;\n      }\n\n      .analysis {\n        margin-top: 12px;\n        color: #656565;\n      }\n\n      .leftColumn {\n        padding-right: 16px;\n      }\n\n      .mainScore {\n        color: #000;\n      }\n\n      paper-spinner {\n        margin-left: 20px;\n        margin-top: 8px;\n        --paper-spinner-layer-1-color: #FFF;\n        --paper-spinner-layer-2-color: #FFF;\n        --paper-spinner-layer-3-color: #FFF;\n        --paper-spinner-layer-4-color: #FFF;\n      }\n\n      .linkIcon {\n        color: #000;\n      }\n    </style>\n    <lite-signal on-lite-signal-yp-language=\"_languageEvent\"></lite-signal>\n\n    <paper-dialog id=\"dialog\" modal=\"\">\n      <div class=\"layout horizontal headerBox wrap\">\n        <div>\n          <paper-icon-button aria-label\\$=\"[[t('close')]]\" id=\"dismissBtn\" icon=\"close\" class=\"closeButton\" dialog-dismiss=\"\"></paper-icon-button>\n        </div>\n\n        <div class=\"headerText layout vertical\">\n          <div class=\"layout horizontal\">\n            <div class=\"collectionName\">[[collectionName]]</div>\n          </div>\n          <div class=\"innerHeader\">[[headerText]]\n            <span hidden\\$=\"[[!totalItemsCount]]\">([[totalItemsCount]] [[itemsCountText]])</span>\n          </div>\n        </div>\n        <div hidden\\$=\"[[!spinnerActive]]\"><paper-spinner active=\"\"></paper-spinner></div>\n        <div class=\"flex\"></div>\n        <div class=\"checkBox\" hidden\\$=\"[[narrow]]\"><paper-checkbox checked=\"{{multiSortEnabled}}\">[[t('multiSortEnabled')]]</paper-checkbox></div>\n        <div hidden\\$=\"[[!showReload]]\">\n          <paper-icon-button aria-label\\$=\"[[t('reload')]]\" icon=\"autorenew\" class=\"closeButton\" on-tap=\"_reload\"></paper-icon-button>\n        </div>\n      </div>\n\n      <vaadin-grid id=\"grid\" multi-sort=\"[[multiSortEnabled]]\" active-item=\"{{activeItem}}\" aria-label\\$=\"[[headerText]]\" items=\"[[items]]\" selected-items=\"{{selectedItems}}\">\n        <vaadin-grid-selection-column>\n        </vaadin-grid-selection-column>\n\n        <template class=\"row-details\">\n          <div class=\"details layout vertical center-center detailArea\">\n            <div class=\"layout horizontal\">\n              <template is=\"dom-if\" if=\"[[item.is_post]]\">\n                <div class=\"layout vertical center-center\">\n                  <yp-post-header hide-actions=\"\" post=\"[[item]]\" post-name=\"[[item.name]]\" header-mode=\"\"></yp-post-header>\n                  <a href=\"/post/[[item.id]]\" target=\"_blank\"><paper-icon-button aria-label\\$=\"[[t('linkToContentItem')]]\" class=\"linkIcon\" icon=\"link\"></paper-icon-button></a>\n                </div>\n              </template>\n              <template is=\"dom-if\" if=\"[[item.is_point]]\">\n                <div class=\"layout vertical center-center\">\n                  <yp-point hide-actions=\"\" point=\"[[item]]\"></yp-point>\n                  <a hidden\\$=\"[[!item.post_id]]\" href=\"/post/[[item.post_id]]/[[item.id]]\" target=\"_blank\"><paper-icon-button aria-label\\$=\"[[t('linkToContentItem')]]\" class=\"linkIcon\" icon=\"link\"></paper-icon-button></a>\n                </div>\n              </template>\n            </div>\n            <div hidden\\$=\"[[!item.toxicityScore]]\" class=\"layout horizontal analysis\">\n              <div class=\"layout vertical leftColumn\" hidden\\$=\"[[userId]]\">\n                <div class=\"mainScore\" hidden\\$=\"[[!item.moderation_data.moderation.toxicityScore]]\">Toxicity Score: [[_toPercent(item.moderation_data.moderation.toxicityScore)]]</div>\n                <div hidden\\$=\"[[!item.moderation_data.moderation.identityAttackScore]]\">Identity Attack Score: [[_toPercent(item.moderation_data.moderation.identityAttackScore)]]</div>\n                <div hidden\\$=\"[[!item.moderation_data.moderation.identityAttachScore]]\">Identity Attack Score: [[_toPercent(item.moderation_data.moderation.identityAttachScore)]]</div>\n                <div hidden\\$=\"[[!item.moderation_data.moderation.threatScore]]\">Threat Score: [[_toPercent(item.moderation_data.moderation.threatScore)]]</div>\n                <div hidden\\$=\"[[!item.moderation_data.moderation.insultScore]]\">Insult Score: [[_toPercent(item.moderation_data.moderation.insultScore)]]</div>\n              </div>\n              <div class=\"layout vertical\" hidden\\$=\"[[userId]]\">\n                <div class=\"mainScore\" hidden\\$=\"[[!item.moderation_data.moderation.severeToxicityScore]]\">Severe Toxicity Score: [[_toPercent(item.moderation_data.moderation.severeToxicityScore)]]</div>\n                <div hidden\\$=\"[[!item.moderation_data.moderation.profanityScore]]\">Profanity Score: [[_toPercent(item.moderation_data.moderation.profanityScore)]]</div>\n                <div hidden\\$=\"[[!item.moderation_data.moderation.sexuallyExplicitScore]]\">Sexually Excplicit Score: [[_toPercent(item.moderation_data.moderation.sexuallyExplicitScore)]]</div>\n                <div hidden\\$=\"[[!item.moderation_data.moderation.flirtationScore]]\">Flirtation Score: [[_toPercent(item.moderation_data.moderation.flirtationScore)]]</div>\n              </div>\n            </div>\n          </div>\n        </template>\n\n        <vaadin-grid-sort-column width=\"130px\" flex-grow=\"0\" path=\"firstReportedDate\" header=\"[[t('firstReported')]]\" hidden\\$=\"[[onlyFlaggedItems]]\">\n          <template>[[item.firstReportedDateFormatted]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"130px\" flex-grow=\"0\" path=\"lastReportedAtDate\" header=\"[[t('lastReported')]]\" hidden\\$=\"[[userId]]\">\n          <template>[[item.lastReportedAtDateFormatted]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"100px\" text-align=\"start\" flex-grow=\"0\" path=\"type\" header=\"[[t('type')]]\">\n          <template>[[_getType(item.type)]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"120px\" text-align=\"start\" flex-grow=\"0\" path=\"status\" header=\"[[t('publishStatus')]]\">\n          <template>[[item.status]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"80px\" text-align=\"center\" flex-grow=\"0\" path=\"counter_flags\" header=\"[[t('flags')]]\" hidden\\$=\"[[userId]]\">\n          <template>[[item.counter_flags]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"130px\" text-align=\"start\" flex-grow=\"0\" path=\"source\" header=\"[[t('source')]]\" hidden\\$=\"[[!onlyFlaggedItems]]\">\n          <template>[[item.source]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"100px\" text-align=\"center\" flex-grow=\"0\" path=\"toxicityScoreRaw\" header=\"[[t('toxicityScore')]]?\" hidden\\$=\"[[userId]]\">\n          <template>[[item.toxicityScore]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-sort-column width=\"150px\" text-align=\"start\" flex-grow=\"1\" path=\"groupName\" header=\"[[t('groupName')]]\" hidden\\$=\"[[!userId]]\">\n          <template>[[item.groupName]]</template>\n        </vaadin-grid-sort-column>\n\n        <vaadin-grid-filter-column width=\"200px\" flex-grow=\"4\" path=\"content\" header=\"[[t('content')]]\" hidden\\$=\"[[narrow]]\">\n          <template>\n            <div class=\"layout horizontal\">\n              <yp-magic-text content-id=\"[[item.id]]\" content=\"[[item.pointTextContent]]\" text-type=\"pointContent\"></yp-magic-text>\n              <yp-magic-text content-id=\"[[item.id]]\" content=\"[[item.postNameContent]]\" text-type=\"postName\"></yp-magic-text> &nbsp;\n              <yp-magic-text content-id=\"[[item.id]]\" content=\"[[item.postTextContent]]\" text-type=\"postContent\"></yp-magic-text> &nbsp;\n              <yp-magic-text content-id=\"[[item.id]]\" content=\"[[item.postTranscriptContent]]\" text-type=\"postTranscriptContent\"></yp-magic-text>\n            </div>\n          </template>\n        </vaadin-grid-filter-column>\n\n        <vaadin-grid-filter-column flex-grow=\"1\" path=\"user_email\" width=\"150px\" header=\"[[t('creator')]]\" hidden\\$=\"[[userId]]\">\n          <template>[[item.user_email]]</template>\n        </vaadin-grid-filter-column>\n\n        <vaadin-grid-filter-column flex-grow=\"0\" path=\"lastReportedByEmail\" width=\"150px\" header=\"[[t('flaggedBy')]]\" hidden\\$=\"[[!onlyFlaggedItems]]\">\n        </vaadin-grid-filter-column>\n\n        <vaadin-grid-column width=\"70px\" flex-grow=\"0\">\n          <template class=\"header\">\n            <paper-menu-button horizontal-align=\"right\" class=\"helpButton\" disabled\\$=\"[[selectedItemsEmpty]]\">\n              <paper-icon-button aria-label\\$=\"[[t('openSelectedItemsMenu')]]\" icon=\"more-vert\" slot=\"dropdown-trigger\"></paper-icon-button>\n              <paper-listbox slot=\"dropdown-content\" on-iron-select=\"_menuSelection\">\n                <template is=\"dom-if\" if=\"[[!selectedItemsEmpty]]\" restamp=\"\">\n                  <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[userId]]\" on-tap=\"_approveSelected\">\n                    [[t('approveSelectedContent')]] [[selectedItemsCount]]\n                  </paper-item>\n                  <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[!onlyFlaggedItems]]\" on-tap=\"_clearSelectedFlags\">\n                    [[t('clearSelectedFlags')]] [[selectedItemsCount]]\n                  </paper-item>\n                  <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[userId]]\" on-tap=\"_blockSelected\">\n                    [[t('blockSelectedContent')]] [[selectedItemsCount]]\n                  </paper-item>\n                  <paper-item data-args\\$=\"[[item.id]]\" hidden\\$=\"[[!userId]]\" on-tap=\"_anonymizeSelected\">\n                    [[t('anonymizeSelectedContent')]] [[selectedItemsCount]]\n                  </paper-item>\n                  <paper-item data-args\\$=\"[[item.id]]\" on-tap=\"_deleteSelected\">\n                    [[t('deleteSelectedContent')]] [[selectedItemsCount]]\n                  </paper-item>\n                </template>\n              </paper-listbox>\n            </paper-menu-button>\n          </template>\n          <template>\n            <paper-menu-button horizontal-align=\"right\" class=\"helpButton\">\n              <paper-icon-button aria-label\\$=\"[[t('openOneItemMenu')]]\" icon=\"more-vert\" data-args\\$=\"[[item.id]]\" on-tap=\"_setSelected\" slot=\"dropdown-trigger\"></paper-icon-button>\n              <paper-listbox slot=\"dropdown-content\" on-iron-select=\"_menuSelection\">\n                <paper-item data-args\\$=\"[[item.id]]\" data-model-class\\$=\"[[item.type]]\" hidden\\$=\"[[userId]]\" on-tap=\"_approve\">\n                  [[t('approveContent')]]\n                </paper-item>\n                <paper-item data-args\\$=\"[[item.id]]\" data-model-class\\$=\"[[item.type]]\" hidden\\$=\"[[!onlyFlaggedItems]]\" on-tap=\"_clearFlags\">\n                  [[t('clearFlags')]]\n                </paper-item>\n                <paper-item data-args\\$=\"[[item.id]]\" data-model-class\\$=\"[[item.type]]\" hidden\\$=\"[[userId]]\" on-tap=\"_block\">\n                  [[t('blockContent')]]\n                </paper-item>\n                <paper-item data-args\\$=\"[[item.id]]\" data-model-class\\$=\"[[item.type]]\" hidden\\$=\"[[!userId]]\" on-tap=\"_anonymize\">\n                  [[t('anonymizeContent')]]\n                </paper-item>\n                <paper-item data-args\\$=\"[[item.id]]\" data-model-class\\$=\"[[item.type]]\" on-tap=\"_delete\">\n                  [[t('deleteContent')]]\n                </paper-item>\n              </paper-listbox>\n            </paper-menu-button>\n          </template>\n        </vaadin-grid-column>\n      </vaadin-grid>\n    </paper-dialog>\n\n    <div class=\"layout horizontal center-center\">\n      <yp-ajax id=\"ajax\" on-response=\"_itemsResponse\" on-error=\"_ajaxError\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" id=\"singleItemAjax\" on-error=\"_ajaxError\" on-response=\"_singleItemResponse\"></yp-ajax>\n      <yp-ajax method=\"DELETE\" id=\"manyItemsAjax\" on-error=\"_ajaxError\" on-response=\"_manyItemsResponse\"></yp-ajax>\n    </div>\n    <iron-media-query query=\"(max-width: 600px)\" query-matches=\"{{narrow}}\"></iron-media-query>\n"]);_templateObject_cb1b74704fe511e9ab8b8d361f77d375=function _templateObject_cb1b74704fe511e9ab8b8d361f77d375(){return data};return data}import{ypNumberFormatBehavior,ypLanguageBehavior,Polymer,html,dom}from"../yp-app/yp-app.js";Polymer({_template:html(_templateObject_cb1b74704fe511e9ab8b8d361f77d375()),is:"yp-content-moderation",behaviors:[ypLanguageBehavior,ypNumberFormatBehavior],properties:{multiSortEnabled:{type:Boolean,value:!1},items:{type:Array,notify:!0,value:null},headerText:{type:String},groupId:{type:Number,observer:"_groupIdChanged"},domainId:{type:Number,observer:"_domainIdChanged"},communityId:{type:Number,observer:"_communityIdChanged"},userId:{type:Number,observer:"_userIdChanged"},selected:{type:Object},modelType:{type:String},opened:{type:Boolean,value:!1},selectedItems:{type:Array,notify:!0},selectedItemsCount:{type:Number,value:0},selectedItemsEmpty:{type:Boolean,value:!0},selectedItemIdsAndType:{type:Array},selectedItemId:{type:String},selectedModelClass:{type:String},totalItemsCount:{type:String,computed:"_totalItemsCount(items)"},collectionName:String,itemsCountText:String,resizeTimeout:{type:Object,value:null},activeItem:{type:Object,observer:"_activeItemChanged"},typeOfModeration:{type:String,value:"/flagged_content"},onlyFlaggedItems:{type:Boolean,computed:"_onlyFlaggedItems(typeOfModeration)"},showReload:{type:Boolean,value:!1},forceSpinner:{type:Boolean,value:!1},spinnerActive:{type:Boolean,computed:"_spinnerActive(totalItemsCount, forceSpinner)"}},_spinnerActive:function _spinnerActive(count,force){return!count||force},observers:["_selectedItemsChanged(selectedItems.splices)"],_ajaxError:function _ajaxError(){this.set("forceSpinner",!1)},_reload:function _reload(){this.$.ajax.generateRequest();this.set("forceSpinner",!0)},_onlyFlaggedItems:function _onlyFlaggedItems(typeOfModeration){return"/flagged_content"===typeOfModeration},_manyItemsResponse:function _manyItemsResponse(){this.set("forceSpinner",!1);this.set("showReload",!0);window.appGlobals.notifyUserViaToast(this.t("operationInProgressTryReloading"))},_singleItemResponse:function _singleItemResponse(){this._reload()},_getType:function _getType(type){if("post"===type)return this.t("posts.post");else if("point"===type)return this.t("point.point")},_activeItemChanged:function _activeItemChanged(item,oldItem){if(item){this.$.grid.openItemDetails(item)}if(oldItem){this.$.grid.closeItemDetails(oldItem)}},_menuSelection:function _menuSelection(event,detail){var allMenus=this.$.grid.querySelectorAll("paper-listbox");allMenus.forEach(function(item){item.select(null)})},ready:function ready(){this._setGridSize();window.addEventListener("resize",this._resizeThrottler.bind(this),!1)},_toPercent:function _toPercent(number){if(number){return Math.round(100*number)+"%"}else{return null}},_resizeThrottler:function _resizeThrottler(){if(!this.resizeTimeout){this.resizeTimeout=setTimeout(function(){this.resizeTimeout=null;this._setGridSize()}.bind(this),66)}},_setGridSize:function _setGridSize(){if(600>=window.innerWidth){this.$.grid.style.width=window.innerWidth.toFixed()+"px";this.$.grid.style.height=window.innerHeight.toFixed()+"px"}else{this.$.grid.style.width=(window.innerWidth-16).toFixed()+"px";this.$.grid.style.height=window.innerHeight.toFixed()+"px"}},_totalItemsCount:function _totalItemsCount(items){if(items){return this.formatNumber(items.length)}else{return null}},_selectedItemsChanged:function _selectedItemsChanged(){if(this.selectedItems&&0<this.selectedItems.length){this.set("selectedItemsEmpty",!1);this.set("selectedItemsCount",this.selectedItems.length)}else{this.set("selectedItemsEmpty",!0);this.set("selectedItemsCount",0)}this.selectedItemIdsAndType=this.selectedItems.map(function(item){return{id:item.id,modelType:item.type}})},_setupItemIdFromEvent:function _setupItemIdFromEvent(event){var itemId=event.target.parentElement.getAttribute("data-args");if(!itemId)itemId=event.target.getAttribute("data-args");this.set("selectedItemId",itemId);var modelClass=event.target.parentElement.getAttribute("data-model-class");if(!modelClass)modelClass=event.target.getAttribute("data-model-class");this.set("selectedModelClass",modelClass)},_deleteSelected:function _deleteSelected(event){this._setupItemIdFromEvent(event);dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("areYouSureDeleteSelectedContent"),this._reallyDeleteSelected.bind(this),!0,!0)}.bind(this))},_reallyDeleteSelected:function _reallyDeleteSelected(){this._ajaxMaster(this.$.manyItemsAjax,"delete",this.selectedItemIdsAndType)},_delete:function _delete(event){this._setupItemIdFromEvent(event);dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("areYouSureDeleteContent"),this._reallyDelete.bind(this),!0,!1)}.bind(this))},_reallyDelete:function _reallyDelete(){this._ajaxMaster(this.$.singleItemAjax,"delete")},_anonymizeSelected:function _anonymizeSelected(event){this._setupItemIdFromEvent(event);dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("areYouSureAnonymizeSelectedContent"),this._reallyAnonymizeSelected.bind(this),!0,!0)}.bind(this))},_reallyAnonymizeSelected:function _reallyAnonymizeSelected(){this._ajaxMaster(this.$.manyItemsAjax,"anonymize",this.selectedItemIdsAndType)},_anonymize:function _anonymize(event){this._setupItemIdFromEvent(event);dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(dialog){dialog.open(this.t("areYouSureAnonymizeContent"),this._reallyAnonymize.bind(this),!0,!1)}.bind(this))},_reallyAnonymize:function _reallyAnonymize(){this._ajaxMaster(this.$.singleItemAjax,"anonymize")},_approve:function _approve(event){this._setupItemIdFromEvent(event);this._ajaxMaster(this.$.singleItemAjax,"approve")},_approveSelected:function _approveSelected(event){this._setupItemIdFromEvent(event);this._ajaxMaster(this.$.manyItemsAjax,"approve",this.selectedItemIdsAndType)},_block:function _block(event){this._setupItemIdFromEvent(event);this._ajaxMaster(this.$.singleItemAjax,"block")},_blockSelected:function _blockSelected(event){this._setupItemIdFromEvent(event);this._ajaxMaster(this.$.manyItemsAjax,"block",this.selectedItemIdsAndType)},_clearFlags:function _clearFlags(event){this._setupItemIdFromEvent(event);this._ajaxMaster(this.$.singleItemAjax,"clearFlags")},_clearSelectedFlags:function _clearSelectedFlags(event){this._setupItemIdFromEvent(event);this._ajaxMaster(this.$.manyItemsAjax,"clearFlags",this.selectedItemIdsAndType)},_ajaxMaster:function _ajaxMaster(ajax,action,itemIdsAndType){var url,collectionId;if("groups"===this.modelType&&this.groupId){collectionId=this.groupId}else if("communities"===this.modelType&&this.communityId){collectionId=this.communityId}else if("domains"===this.modelType&&this.domainId){collectionId=this.domainId}else if("users"===this.modelType&&this.userId){collectionId=this.userId}else{console.error("Can't find model type or ids");return}if(itemIdsAndType&&0<itemIdsAndType.length){url="/api/"+this.modelType+"/"+collectionId+"/"+action+"/process_many_moderation_item";ajax.body={items:itemIdsAndType}}else if(this.selectedItemId){url="/api/"+this.modelType+"/"+collectionId+"/"+this.selectedItemId+"/"+this.selectedModelClass+"/"+action+"/process_one_moderation_item";ajax.body={}}else{console.error("No item ids to process");return}ajax.url=url;ajax.generateRequest();this.set("forceSpinner",!0);if(this.selectedItemId){var item=this._findItemFromId(this.selectedItemId);if(item)this.$.grid.deselectItem(item);this.selectedItemId=null;this.selectedModelClass=null}},_setSelected:function _setSelected(event){var item=this._findItemFromId(event.target.getAttribute("data-args"));if(item){this.$.grid.selectItem(item)}},_findItemFromId:function _findItemFromId(id){var foundItem;this.items.forEach(function(item){if(item.id==id){foundItem=item}}.bind(this));return foundItem},_domainIdChanged:function _domainIdChanged(newDomainId){if(newDomainId){this._reset();this.set("modelType","domains");this._generateRequest(newDomainId)}},_groupIdChanged:function _groupIdChanged(newGroupId){if(newGroupId){this._reset();this.set("modelType","groups");this._generateRequest(newGroupId)}},_communityIdChanged:function _communityIdChanged(newCommunityId){if(newCommunityId){this._reset();this.set("modelType","communities");this._generateRequest(newCommunityId)}},_userIdChanged:function _userIdChanged(userId){if(userId){this._reset();this.set("modelType","users");this._generateRequest(userId)}},_generateRequest:function _generateRequest(id){this.$.ajax.url="/api/"+this.modelType+"/"+id+this.typeOfModeration;this.$.ajax.generateRequest()},_itemsResponse:function _itemsResponse(event,detail){this.set("forceSpinner",!1);this.set("items",detail.response);this._resetSelectedAndClearCache()},setup:function setup(groupId,communityId,domainId,typeOfModeration,userId){if(typeOfModeration){this.set("typeOfModeration",typeOfModeration)}else{this.set("typeOfModeration","/flagged_content")}this.set("groupId",null);this.set("communityId",null);this.set("domainId",null);this.set("userId",null);this.set("items",null);if(groupId)this.set("groupId",groupId);if(communityId)this.set("communityId",communityId);if(domainId)this.set("domainId",domainId);if(userId)this.set("userId",userId);this._setupHeaderText()},open:function open(name){this.set("collectionName",name);this.set("opened",!0);this.$.dialog.open()},_reset:function _reset(){this.set("items",null);this._resetSelectedAndClearCache()},_resetSelectedAndClearCache:function _resetSelectedAndClearCache(){this.set("selectedItemsCount",0);this.set("selectedItemsEmpty",!0);this.set("selectedItemIdsAndType",[]);this.set("selectedItems",[]);this.$.grid.clearCache()},_setupHeaderText:function _setupHeaderText(){if(this.onlyFlaggedItems){this.set("itemsCountText",this.t("contentItemsFlagged"))}else{this.set("itemsCountText",this.t("items"))}if(this.groupId){this.set("headerText",this.t("groupContentModeration"))}else if(this.communityId){this.set("headerText",this.t("communityContentModeration"))}else if(this.domainId){this.set("headerText",this.t("domainContentModeration"))}else if(this.userId){this.set("headerText",this.t("userContentModeration"))}}});