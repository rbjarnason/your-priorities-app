function _templateObject_cbf002804fe511e9ab8b8d361f77d375(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"iron-flex iron-flex-alignment\">\n      .card-container {\n        @apply --layout-horizontal;\n        @apply --layout-wrap;\n        width: 100%;\n      }\n\n      .card {\n        padding: 16px;\n      }\n\n      yp-ajax {\n        background-color: var(--primary-background-color);\n      }\n    </style>\n    <lite-signal on-lite-signal-yp-language=\"_languageEvent\"></lite-signal>\n\n    <yp-page id=\"page\" create-fab-icon=\"group\" create-fab-title=\"[[t('group.add')]]\" on-yp-create-fab-tap=\"_newGroup\">\n\n      <yp-organization-large-card id=\"organizationCard\" slot=\"largeCard\" class=\"largeCard card\" organization=\"[[organization]]\" on-update-organization=\"_refresh\"></yp-organization-large-card>\n\n      <paper-tabs id=\"paper_tabs\" slot=\"tabs\" class=\"tabs\" selected=\"{{selected}}\" focused=\"\">\n        <paper-tab class=\"tab\"><span>[[t('groups')]]</span> &nbsp; (<span>[[groups.length]]</span>)</paper-tab>\n        <paper-tab class=\"tab\">[[t('news')]]</paper-tab>\n        <paper-tab class=\"tab\">[[t('posts.map')]]</paper-tab>\n      </paper-tabs>\n\n      <iron-pages class=\"tabPages\" slot=\"tabPages\" selected=\"{{selected}}\" entry-animation=\"fade-in-animation\" exit-animation=\"fade-out-animation\">\n        <section>\n          <div class=\"layout horizontal center-center wrap\">\n          </div>\n        </section>\n        <section>\n          <template is=\"dom-if\" if=\"[[mapActive]]\" restamp=\"\">\n            <yp-post-map organization-id=\"[[organization.id]]\"></yp-post-map>\n          </template>\n        </section>\n      </iron-pages>\n    </yp-page>\n\n    <yp-ajax id=\"ajax\" url=\"/api/organizations\" on-response=\"_response\"></yp-ajax>\n"]);_templateObject_cbf002804fe511e9ab8b8d361f77d375=function _templateObject_cbf002804fe511e9ab8b8d361f77d375(){return data};return data}import"../../node_modules/@polymer/polymer/polymer-legacy.js";import"../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js";import"../../node_modules/lite-signal/lite-signal.js";import"../../node_modules/@polymer/paper-tabs/paper-tab.js";import"../../node_modules/@polymer/paper-tabs/paper-tabs.js";import{ypLanguageBehavior}from"../yp-behaviors/yp-language-behavior.js";import{ypMediaFormatsBehavior}from"../yp-behaviors/yp-media-formats-behavior.js";import{ypThemeBehavior}from"../yp-theme/yp-theme-behavior.js";import"../yp-post/yp-post-map.js";import"../yp-ajax/yp-ajax.js";import"../yp-page/yp-page.js";import{ypGotoBehavior}from"../yp-behaviors/yp-goto-behavior.js";import"./yp-organization-large-card.js";import{Polymer}from"../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js";import{html}from"../../node_modules/@polymer/polymer/lib/utils/html-tag.js";import{dom}from"../../node_modules/@polymer/polymer/lib/legacy/polymer.dom.js";Polymer({_template:html(_templateObject_cbf002804fe511e9ab8b8d361f77d375()),is:"yp-organization",behaviors:[ypLanguageBehavior,ypThemeBehavior,ypGotoBehavior,ypMediaFormatsBehavior],properties:{groups:{type:Array},organizationId:{type:Number,value:null,observer:"_organizationIdChanged"},organization:{type:Object},organizationEmpty:{type:Boolean,value:!1},hideAdd:{type:Boolean,value:!0},selected:{type:Number,value:0,observer:"_selectedChanged"},tabName:{type:String,value:null,observer:"_tabNameChanged"},mapActive:{type:Boolean,value:!1}},_tabNameChanged:function _tabNameChanged(newValue){if(newValue){if("groups"==newValue){this.set("selected",0)}else if("news"==newValue){this.set("selected",1)}else if("map"==newValue){this.set("selected",2)}}},_selectedChanged:function _selectedChanged(newValue){if(this.organization){if(0==newValue){this.redirectTo("/organization/"+this.organization.id+"/groups")}else if(1==newValue){this.redirectTo("/organization/"+this.organization.id+"/news")}else if(2==newValue){this.redirectTo("/organization/"+this.organization.id+"/map")}}},_hideEdit:function _hideEdit(){if(!this.organization)return!0;if(!window.appUser.loggedIn())return!0;return window.appUser.user.id!=this.organization.user_id},_organizationHeaderUrl:function _organizationHeaderUrl(organization){return this.getImageFormatUrl(organization.OrganizationHeaderImages,2)},_organizationIdChanged:function _organizationIdChanged(newValue,oldValue){if(newValue){this.set("organization",null);this.set("groups",null);this.$$("#ajax").url="/api/organizations/"+this.organizationId;this.$$("#ajax").generateRequest();this.hideAdd=!0}},_newGroup:function _newGroup(){window.appGlobals.activity("open","newGroup");dom(document).querySelector("yp-app").getDialogAsync("groupEdit",function(dialog){dialog.setup(null,!0,null);dialog.open("new",{organizationId:this.organizationId})}.bind(this))},_response:function _response(event,detail,sender){this.set("organization",detail.response);if(this.organization.OrganizationHeaderImages&&0<this.organization.OrganizationHeaderImages.length){this.$.page.setupTopHeaderImage(this.organization.OrganizationHeaderImages)}var randomTheme=Math.floor(3*Math.random())+1,url=this._organizationHeaderUrl(this.organization);this.set("groups",this.organization.Groups);this.async(function(){var organizationCard=this.$$("#organizationCard");if(organizationCard){organizationCard.setElevation(5);organizationCard.lowerCardLater()}},20);if(0===detail.response.Groups.length)this.organizationEmpty=!0;else this.organizationEmpty=!1;this.fire("change-header",{headerTitle:this.organization.Domain.name,headerDescription:this.organization.Domain.description,headerIcon:"group-work",backPath:"/domain/"+this.organization.domain_id});if(0<this.groups.length){this.hideAdd=!0}else{this.hideAdd=!1}},defaultGroupFirst:function defaultGroupFirst(items){for(var filtered=[],defaultGroup=null,i=0,item;i<items.length;i++){item=items[i];if("default"!=item.short_name){filtered.push(item)}else{defaultGroup=item}}filtered.unshift(defaultGroup);return filtered},noTestGroup:function noTestGroup(items){for(var filtered=[],i=0,item;i<items.length;i++){item=items[i];if("test"!=item.short_name&&"ac-posts"!=item.short_name&&"development"!=item.short_name&&-1==item.short_name.indexOf("2012")&&-1==item.short_name.indexOf("2013")){filtered.push(item)}}return filtered},_refresh:function _refresh(){this.$$("#ajax").generateRequest()},ready:function ready(){}});