function _templateObject4_cc0a1a304fe511e9ab8b8d361f77d375(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"iron-flex iron-flex-alignment\">\n      :host {\n      }\n\n      .container {\n        padding-top: 0;\n        margin-top: -70px;\n        height: 100%;\n      }\n\n      .flex {\n        @apply --layout-vertical;\n        @apply --layout-flex;\n      }\n\n      .centerContainer {\n        @apply --layout-center-center;\n      }\n\n      .postHeader {\n        padding: 16px;\n        background-color: #fefefe;\n        width: 940px;\n      }\n\n      .statusHeader {\n        padding: 16px;\n        background-color: #fefefe;\n        width: 940px;\n        margin-top: 16px;\n        height: 48px;\n      }\n\n      .description {\n        width: 510px;\n        padding-left: 24px;\n      }\n\n      ac-activities {\n        padding-top: 8px;\n      }\n\n      .statusColumn {\n        width: 670px;\n        padding-bottom: 16px;\n      }\n\n      .mainPage {\n        background-color: #FFF;\n      }\n\n      yp-post-user-images {\n        padding-top: 32px;\n      }\n\n      @media (max-width: 961px) {\n        .postHeader {\n          width: 600px;\n        }\n      }\n\n      @media (max-width: 600px) {\n        .postHeader {\n          width: 400px;\n        }\n      }\n\n      .createFab {\n        position: fixed;\n        bottom: 24px;\n        right: 28px;\n        background-color: var(--accent-color);\n        color: #FFF;\n\n        --paper-fab-iron-icon: {\n          color: var(--icon-general-color, #FFF);\n          height: 40px;\n          width: 40px;\n        }\n      }\n\n      .createFab[wide-layout] {\n        width: 72px;\n        height: 72px;\n        --paper-fab-iron-icon: {\n          color: var(--icon-general-color, #FFF);\n          width: 72px;\n          height: 72px;\n        }\n      }\n\n      @media (max-width: 360px) {\n\n        .centerContainer {\n          @apply --layout-vertical;\n        }\n\n        .postHeader {\n          height: 100%;\n          width: 360px;\n          padding: 0;\n        }\n\n        .tabsMaterial {\n          width: 360px;\n        }\n\n        .statusHeader {\n          width: 360px;\n          height: 120px;\n          padding: 0px;\n          padding-left: 20px;\n        }\n\n        .statusColumn {\n          height: 60px;\n          padding: 0px;\n        }\n\n        .description {\n          width: 320px;\n          padding: 8px;\n          padding-left: 20px;\n          padding-bottom: 16px;\n        }\n\n        .statusColumn {\n          width: 320px;\n        }\n      }\n\n      yp-ajax {\n        background-color: var(--primary-background-color);\n      }\n\n      .mapContainer {\n        margin: 24px;\n        width: 960px;\n        height: 500px;\n      }\n\n      .counterInfo {\n        font-size: 11px;\n      }\n\n      .topContainer {\n        margin-top: 16px;\n      }\n\n      .tabs {\n        margin-top: 24px;\n      }\n\n      @media (max-width: 934px) {\n        .mapContainer {\n          margin: 16px;\n          width: 800px;\n          height: 400px;\n        }\n      }\n\n      @media (max-width: 832px) {\n        .mapContainer {\n          margin: 8px;\n          width: 600px;\n          height: 340px;\n        }\n      }\n\n      @media (max-width: 632px) {\n        .mapContainer {\n          margin: 8px;\n          width: 400px;\n          height: 300px;\n        }\n      }\n\n      @media (max-width: 420px) {\n        .mapContainer {\n          margin: 8px;\n          width: 330px;\n          height: 250px;\n        }\n      }\n\n      @media (max-width: 360px) {\n        .mapContainer {\n          margin: 8px;\n          width: 280px;\n          height: 200px;\n        }\n      }\n\n\n      .tabs {\n        width: 1100px;\n        padding-top: 8px;\n        padding-bottom: 8px;\n      }\n\n      .tab {\n        width: 250px;\n      }\n\n      @media (max-width: 1000px) {\n        .tabs {\n          width: 100%;\n        }\n\n        .tab {\n          width: 200px;\n        }\n      }\n\n      @media (max-width: 900px) {\n        .tabs {\n          max-width: 100%;\n          font-size: 14px !important;\n          word-wrap: break-word !important;\n          margin-top: 8px;\n          width: 100%;\n          margin-bottom: 16px;\n        }\n\n        .tabs .tab {\n          width: 100%;\n          word-wrap: break-word !important;\n          margin-left: 8px;\n          margin-right: 8px;\n        }\n\n        .topArea {\n          height: 300px;\n        }\n\n        .topArea[is-post] {\n          min-height: 470px;\n        }\n      }\n\n      @media (max-width: 380px) {\n        .tabs {\n          font-size: 12px !important;\n        }\n\n        .topArea[is-post] {\n          min-height: 530px;\n        }\n\n        ac-activities {\n          min-height: 600px !important;\n        }\n      }\n\n      @media (max-width: 360px) {\n        .tabs {\n          font-size: 10px !important;\n        }\n      }\n\n      .minHeightSection {\n        min-height: 450px;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n    </style>\n\n    <div class=\"topContainer layout vertical center-center\" is-post=\"\" create-fab-title=\"[[t('point.add')]]\" on-yp-create-fab-tap=\"_newPoint\">\n\n      <yp-post-header id=\"postCard\" class=\"largeCard\" post=\"[[post]]\" on-refresh=\"_refreshAjax\" header-mode=\"\"></yp-post-header>\n\n      <div class=\"layout horizontal center-center\" hidden$=\"[[post.Group.configuration.hideAllTabs]]\">\n        <paper-tabs id=\"paper_tabs\" class=\"tabs\" selected=\"{{selectedTab}}\" attr-for-selected=\"name\" focused=\"\">\n          <paper-tab name=\"debate\">\n            <div class=\"layout vertical center-center tabCounterContainer\">\n              <span>[[t('post.tabs.debate')]] (<span id=\"tabCountDebate\"></span>)</span>\n            </div>\n          </paper-tab>\n          <paper-tab name=\"news\">[[t('post.tabs.news')]]</paper-tab>\n          <paper-tab name=\"location\" hidden$=\"[[locationHidden]]\">[[t('post.tabs.location')]]</paper-tab>\n          <paper-tab name=\"photos\">\n            <div class=\"layout vertical center-center tabCounterContainer\">\n              <span>[[t('post.tabs.photos')]] (<span id=\"tabCountPhotos\"></span>)</span>\n            </div>\n          </paper-tab>\n        </paper-tabs>\n      </div>\n\n      <iron-pages id=\"pages\" class=\"tabPages\" selected=\"[[selectedTab]]\" attr-for-selected=\"name\" entry-animation=\"fade-in-animation\" exit-animation=\"fade-out-animation\">\n        <div name=\"debate\" class=\"layout horizontal center-center\">\n          <yp-post-points host=\"[[host]]\" id=\"pointsSection\" post=\"[[post]]\" scroll-to-id$=\"[[scrollToPointId]]\"></yp-post-points>\n        </div>\n        <section name=\"news\" class=\"minHeightSection\">\n          <template is=\"dom-if\" if=\"[[newsTabSelected]]\">\n            <ac-activities id=\"postNews\" selected-tab=\"[[selectedTab]]\" disable-new-posts=\"[[disableNewPosts]]\" post-group-id=\"[[post.group_id]]\" post-id=\"[[post.id]]\"></ac-activities>\n          </template>\n        </section>\n        <section name=\"location\" class=\"minHeightSection\">\n          <div class=\"layout horizontal center-center\">\n            <template is=\"dom-if\" if=\"[[post.location]]\" restamp=\"\">\n              <template is=\"dom-if\" if=\"[[mapActive]]\" restamp=\"\">\n                <paper-material class=\"mapContainer\" elevation=\"3\">\n                  <google-map additional-map-options=\"{&quot;keyboardShortcuts&quot;:false}\" api-key=\"AIzaSyDkF_kak8BVZA5zfp5R4xRnrX8HP3hjiL0\" id=\"map\" libraries=\"places\" class=\"map\" map-type=\"[[post.location.mapType]]\" zoom=\"[[post.location.map_zoom]]\" fit-to-markers=\"\">\n                    <google-map-marker slot=\"markers\" latitude=\"[[post.location.latitude]]\" longitude=\"[[post.location.longitude]]\" id=\"marker\"></google-map-marker>\n                  </google-map>\n                </paper-material>\n              </template>\n            </template>\n            <template is=\"dom-if\" if=\"[[post]]\">\n              <template is=\"dom-if\" if=\"[[!post.location]]\">\n                <h1 style=\"padding-top: 16px\">[[t('post.noLocation')]]</h1>\n              </template>\n            </template>\n          </div>\n        </section>\n        <section name=\"photos\" class=\"minHeightSection\">\n          <div class=\"layout vertical flex\">\n            <div class=\"layout horizontal center-center\">\n              <yp-post-user-images post=\"[[post]]\"></yp-post-user-images>\n            </div>\n          </div>\n        </section>\n      </iron-pages>\n    </div>\n\n    <lite-signal on-lite-signal-yp-language=\"_languageEvent\"></lite-signal>\n\n    <app-route route=\"{{idRoute}}\" pattern=\"/:id\" data=\"{{idRouteData}}\" tail=\"{{tabRoute}}\">\n    </app-route>\n\n    <app-route route=\"{{tabRoute}}\" pattern=\"/:tabName\" data=\"{{tabRouteData}}\">\n    </app-route>\n\n    <iron-media-query query=\"(min-width: 1024px)\" query-matches=\"{{wideWidth}}\"></iron-media-query>\n\n    <div class=\"create-fab-wrapper layout horizontal end-justified createFabContainer\" hidden$=\"[[post.Group.configuration.hideNewPostOnPostPage]]\">\n      <template is=\"dom-if\" if=\"[[!disableNewPosts]]\">\n        <paper-fab class=\"createFab\" icon=\"[[createFabIcon]]\" elevation=\"5\" wide-layout$=\"{{wideWidth}}\" title=\"[[createFabTitle]]\" on-tap=\"_newPost\"></paper-fab>\n      </template>\n    </div>\n\n    <div class=\"layout horizontal center-center\">\n      <yp-ajax id=\"ajax\" on-response=\"_handleIncomingPostResponse\"></yp-ajax>\n      <yp-ajax id=\"pagesAjax\" on-response=\"_pagesResponse\"></yp-ajax>\n    </div>\n"],["\n    <style include=\"iron-flex iron-flex-alignment\">\n      :host {\n      }\n\n      .container {\n        padding-top: 0;\n        margin-top: -70px;\n        height: 100%;\n      }\n\n      .flex {\n        @apply --layout-vertical;\n        @apply --layout-flex;\n      }\n\n      .centerContainer {\n        @apply --layout-center-center;\n      }\n\n      .postHeader {\n        padding: 16px;\n        background-color: #fefefe;\n        width: 940px;\n      }\n\n      .statusHeader {\n        padding: 16px;\n        background-color: #fefefe;\n        width: 940px;\n        margin-top: 16px;\n        height: 48px;\n      }\n\n      .description {\n        width: 510px;\n        padding-left: 24px;\n      }\n\n      ac-activities {\n        padding-top: 8px;\n      }\n\n      .statusColumn {\n        width: 670px;\n        padding-bottom: 16px;\n      }\n\n      .mainPage {\n        background-color: #FFF;\n      }\n\n      yp-post-user-images {\n        padding-top: 32px;\n      }\n\n      @media (max-width: 961px) {\n        .postHeader {\n          width: 600px;\n        }\n      }\n\n      @media (max-width: 600px) {\n        .postHeader {\n          width: 400px;\n        }\n      }\n\n      .createFab {\n        position: fixed;\n        bottom: 24px;\n        right: 28px;\n        background-color: var(--accent-color);\n        color: #FFF;\n\n        --paper-fab-iron-icon: {\n          color: var(--icon-general-color, #FFF);\n          height: 40px;\n          width: 40px;\n        }\n      }\n\n      .createFab[wide-layout] {\n        width: 72px;\n        height: 72px;\n        --paper-fab-iron-icon: {\n          color: var(--icon-general-color, #FFF);\n          width: 72px;\n          height: 72px;\n        }\n      }\n\n      @media (max-width: 360px) {\n\n        .centerContainer {\n          @apply --layout-vertical;\n        }\n\n        .postHeader {\n          height: 100%;\n          width: 360px;\n          padding: 0;\n        }\n\n        .tabsMaterial {\n          width: 360px;\n        }\n\n        .statusHeader {\n          width: 360px;\n          height: 120px;\n          padding: 0px;\n          padding-left: 20px;\n        }\n\n        .statusColumn {\n          height: 60px;\n          padding: 0px;\n        }\n\n        .description {\n          width: 320px;\n          padding: 8px;\n          padding-left: 20px;\n          padding-bottom: 16px;\n        }\n\n        .statusColumn {\n          width: 320px;\n        }\n      }\n\n      yp-ajax {\n        background-color: var(--primary-background-color);\n      }\n\n      .mapContainer {\n        margin: 24px;\n        width: 960px;\n        height: 500px;\n      }\n\n      .counterInfo {\n        font-size: 11px;\n      }\n\n      .topContainer {\n        margin-top: 16px;\n      }\n\n      .tabs {\n        margin-top: 24px;\n      }\n\n      @media (max-width: 934px) {\n        .mapContainer {\n          margin: 16px;\n          width: 800px;\n          height: 400px;\n        }\n      }\n\n      @media (max-width: 832px) {\n        .mapContainer {\n          margin: 8px;\n          width: 600px;\n          height: 340px;\n        }\n      }\n\n      @media (max-width: 632px) {\n        .mapContainer {\n          margin: 8px;\n          width: 400px;\n          height: 300px;\n        }\n      }\n\n      @media (max-width: 420px) {\n        .mapContainer {\n          margin: 8px;\n          width: 330px;\n          height: 250px;\n        }\n      }\n\n      @media (max-width: 360px) {\n        .mapContainer {\n          margin: 8px;\n          width: 280px;\n          height: 200px;\n        }\n      }\n\n\n      .tabs {\n        width: 1100px;\n        padding-top: 8px;\n        padding-bottom: 8px;\n      }\n\n      .tab {\n        width: 250px;\n      }\n\n      @media (max-width: 1000px) {\n        .tabs {\n          width: 100%;\n        }\n\n        .tab {\n          width: 200px;\n        }\n      }\n\n      @media (max-width: 900px) {\n        .tabs {\n          max-width: 100%;\n          font-size: 14px !important;\n          word-wrap: break-word !important;\n          margin-top: 8px;\n          width: 100%;\n          margin-bottom: 16px;\n        }\n\n        .tabs .tab {\n          width: 100%;\n          word-wrap: break-word !important;\n          margin-left: 8px;\n          margin-right: 8px;\n        }\n\n        .topArea {\n          height: 300px;\n        }\n\n        .topArea[is-post] {\n          min-height: 470px;\n        }\n      }\n\n      @media (max-width: 380px) {\n        .tabs {\n          font-size: 12px !important;\n        }\n\n        .topArea[is-post] {\n          min-height: 530px;\n        }\n\n        ac-activities {\n          min-height: 600px !important;\n        }\n      }\n\n      @media (max-width: 360px) {\n        .tabs {\n          font-size: 10px !important;\n        }\n      }\n\n      .minHeightSection {\n        min-height: 450px;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n    </style>\n\n    <div class=\"topContainer layout vertical center-center\" is-post=\"\" create-fab-title=\"[[t('point.add')]]\" on-yp-create-fab-tap=\"_newPoint\">\n\n      <yp-post-header id=\"postCard\" class=\"largeCard\" post=\"[[post]]\" on-refresh=\"_refreshAjax\" header-mode=\"\"></yp-post-header>\n\n      <div class=\"layout horizontal center-center\" hidden\\$=\"[[post.Group.configuration.hideAllTabs]]\">\n        <paper-tabs id=\"paper_tabs\" class=\"tabs\" selected=\"{{selectedTab}}\" attr-for-selected=\"name\" focused=\"\">\n          <paper-tab name=\"debate\">\n            <div class=\"layout vertical center-center tabCounterContainer\">\n              <span>[[t('post.tabs.debate')]] (<span id=\"tabCountDebate\"></span>)</span>\n            </div>\n          </paper-tab>\n          <paper-tab name=\"news\">[[t('post.tabs.news')]]</paper-tab>\n          <paper-tab name=\"location\" hidden\\$=\"[[locationHidden]]\">[[t('post.tabs.location')]]</paper-tab>\n          <paper-tab name=\"photos\">\n            <div class=\"layout vertical center-center tabCounterContainer\">\n              <span>[[t('post.tabs.photos')]] (<span id=\"tabCountPhotos\"></span>)</span>\n            </div>\n          </paper-tab>\n        </paper-tabs>\n      </div>\n\n      <iron-pages id=\"pages\" class=\"tabPages\" selected=\"[[selectedTab]]\" attr-for-selected=\"name\" entry-animation=\"fade-in-animation\" exit-animation=\"fade-out-animation\">\n        <div name=\"debate\" class=\"layout horizontal center-center\">\n          <yp-post-points host=\"[[host]]\" id=\"pointsSection\" post=\"[[post]]\" scroll-to-id\\$=\"[[scrollToPointId]]\"></yp-post-points>\n        </div>\n        <section name=\"news\" class=\"minHeightSection\">\n          <template is=\"dom-if\" if=\"[[newsTabSelected]]\">\n            <ac-activities id=\"postNews\" selected-tab=\"[[selectedTab]]\" disable-new-posts=\"[[disableNewPosts]]\" post-group-id=\"[[post.group_id]]\" post-id=\"[[post.id]]\"></ac-activities>\n          </template>\n        </section>\n        <section name=\"location\" class=\"minHeightSection\">\n          <div class=\"layout horizontal center-center\">\n            <template is=\"dom-if\" if=\"[[post.location]]\" restamp=\"\">\n              <template is=\"dom-if\" if=\"[[mapActive]]\" restamp=\"\">\n                <paper-material class=\"mapContainer\" elevation=\"3\">\n                  <google-map additional-map-options=\"{&quot;keyboardShortcuts&quot;:false}\" api-key=\"AIzaSyDkF_kak8BVZA5zfp5R4xRnrX8HP3hjiL0\" id=\"map\" libraries=\"places\" class=\"map\" map-type=\"[[post.location.mapType]]\" zoom=\"[[post.location.map_zoom]]\" fit-to-markers=\"\">\n                    <google-map-marker slot=\"markers\" latitude=\"[[post.location.latitude]]\" longitude=\"[[post.location.longitude]]\" id=\"marker\"></google-map-marker>\n                  </google-map>\n                </paper-material>\n              </template>\n            </template>\n            <template is=\"dom-if\" if=\"[[post]]\">\n              <template is=\"dom-if\" if=\"[[!post.location]]\">\n                <h1 style=\"padding-top: 16px\">[[t('post.noLocation')]]</h1>\n              </template>\n            </template>\n          </div>\n        </section>\n        <section name=\"photos\" class=\"minHeightSection\">\n          <div class=\"layout vertical flex\">\n            <div class=\"layout horizontal center-center\">\n              <yp-post-user-images post=\"[[post]]\"></yp-post-user-images>\n            </div>\n          </div>\n        </section>\n      </iron-pages>\n    </div>\n\n    <lite-signal on-lite-signal-yp-language=\"_languageEvent\"></lite-signal>\n\n    <app-route route=\"{{idRoute}}\" pattern=\"/:id\" data=\"{{idRouteData}}\" tail=\"{{tabRoute}}\">\n    </app-route>\n\n    <app-route route=\"{{tabRoute}}\" pattern=\"/:tabName\" data=\"{{tabRouteData}}\">\n    </app-route>\n\n    <iron-media-query query=\"(min-width: 1024px)\" query-matches=\"{{wideWidth}}\"></iron-media-query>\n\n    <div class=\"create-fab-wrapper layout horizontal end-justified createFabContainer\" hidden\\$=\"[[post.Group.configuration.hideNewPostOnPostPage]]\">\n      <template is=\"dom-if\" if=\"[[!disableNewPosts]]\">\n        <paper-fab class=\"createFab\" icon=\"[[createFabIcon]]\" elevation=\"5\" wide-layout\\$=\"{{wideWidth}}\" title=\"[[createFabTitle]]\" on-tap=\"_newPost\"></paper-fab>\n      </template>\n    </div>\n\n    <div class=\"layout horizontal center-center\">\n      <yp-ajax id=\"ajax\" on-response=\"_handleIncomingPostResponse\"></yp-ajax>\n      <yp-ajax id=\"pagesAjax\" on-response=\"_pagesResponse\"></yp-ajax>\n    </div>\n"]);_templateObject4_cc0a1a304fe511e9ab8b8d361f77d375=function _templateObject4_cc0a1a304fe511e9ab8b8d361f77d375(){return data};return data}function _templateObject3_cc0a1a304fe511e9ab8b8d361f77d375(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"iron-flex iron-flex-alignment\">\n      paper-button {\n        margin-top: 32px;\n        margin-bottom: 8px;\n        background-color: var(--accent-color);\n        color: #FFF;\n        width: 242px;\n      }\n\n      yp-post-user-image-card {\n        margin-top:32px;\n        margin-bottom: 32px;\n      }\n    </style>\n    <lite-signal on-lite-signal-yp-language=\"_languageEvent\"></lite-signal>\n\n    <div class=\"layout vertical center-center\">\n      <template is=\"dom-if\" if=\"[[post]]\">\n        <paper-button raised=\"\" on-tap=\"_newImage\">[[t('posts.newUserImage')]]</paper-button>\n        <template is=\"dom-if\" if=\"[[images]]\">\n          <template is=\"dom-repeat\" items=\"[[images]]\" as=\"image\">\n            <yp-post-user-image-card post=\"[[post]]\" image=\"[[image]]\" on-refresh=\"_refresh\"></yp-post-user-image-card>\n          </template>\n        </template>\n      </template>\n      <div class=\"layout horizontal center-center\">\n        <yp-ajax id=\"ajax\" on-response=\"_response\"></yp-ajax>\n      </div>\n    </div>\n"]);_templateObject3_cc0a1a304fe511e9ab8b8d361f77d375=function _templateObject3_cc0a1a304fe511e9ab8b8d361f77d375(){return data};return data}function _templateObject2_cc0a1a304fe511e9ab8b8d361f77d375(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"iron-flex iron-flex-alignment\">\n      .description {\n        padding-left: 16px;\n        padding-right: 16px;\n        padding-top: 16px;\n        color: #444;\n      }\n\n      .photographer {\n        padding-left: 16px;\n        padding-right: 16px;\n        padding-top: 8px;\n        color: #aaa;\n      }\n\n      paper-material {\n        width: 800px;\n        height: 100%;\n        background-color: #FFF;\n        padding: 0;\n      }\n\n      iron-image {\n        width: 800px;\n        height: 600px;\n      }\n\n      @media (max-width: 800px) {\n        iron-image {\n          width: 600px;\n          height: 450px;\n        }\n\n        paper-material {\n          width: 600px;\n        }\n      }\n\n      @media (max-width: 620px) {\n        iron-image {\n          width: 400px;\n          height: 300px;\n        }\n        paper-material {\n          width: 400px;\n        }\n      }\n\n      @media (max-width: 420px) {\n        iron-image {\n          width: 320px;\n          height: 240px;\n        }\n        paper-material {\n          width: 320px;\n        }\n\n        .commentsList {\n          margin-left: 16px;\n        }\n      }\n\n      .commentsList {\n        margin-left: 32px;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n    </style>\n\n    <paper-material elevation=\"2\" class=\"layout vertical\">\n      <iron-image title$=\"[[image.description]]\" sizing=\"cover\" src$=\"[[_imageUrl(image)]]\"></iron-image>\n      <div class=\"description\">\n        [[image.description]]\n      </div>\n      <div class=\"layout horizontal\" style=\"width: 100%;\">\n        <div class=\"photographer\">\n          [[image.photographer_name]]\n        </div>\n        <div class=\"editMenu layout horizontal flex end-justified\" hidden$=\"[[!hasImageAccess(image, post)]]\">\n          <paper-icon-button aria-label$=\"[[t('edit')]]\" icon=\"create\" on-tap=\"_openEdit\"></paper-icon-button>\n          <paper-icon-button aria-label$=\"[[t('delete')]]\" icon=\"clear\" on-tap=\"_openDelete\"></paper-icon-button>\n        </div>\n      </div>\n      <yp-point-comment-list class=\"commentsList\" image=\"[[image]]\"></yp-point-comment-list>\n    </paper-material>\n"],["\n    <style include=\"iron-flex iron-flex-alignment\">\n      .description {\n        padding-left: 16px;\n        padding-right: 16px;\n        padding-top: 16px;\n        color: #444;\n      }\n\n      .photographer {\n        padding-left: 16px;\n        padding-right: 16px;\n        padding-top: 8px;\n        color: #aaa;\n      }\n\n      paper-material {\n        width: 800px;\n        height: 100%;\n        background-color: #FFF;\n        padding: 0;\n      }\n\n      iron-image {\n        width: 800px;\n        height: 600px;\n      }\n\n      @media (max-width: 800px) {\n        iron-image {\n          width: 600px;\n          height: 450px;\n        }\n\n        paper-material {\n          width: 600px;\n        }\n      }\n\n      @media (max-width: 620px) {\n        iron-image {\n          width: 400px;\n          height: 300px;\n        }\n        paper-material {\n          width: 400px;\n        }\n      }\n\n      @media (max-width: 420px) {\n        iron-image {\n          width: 320px;\n          height: 240px;\n        }\n        paper-material {\n          width: 320px;\n        }\n\n        .commentsList {\n          margin-left: 16px;\n        }\n      }\n\n      .commentsList {\n        margin-left: 32px;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n    </style>\n\n    <paper-material elevation=\"2\" class=\"layout vertical\">\n      <iron-image title\\$=\"[[image.description]]\" sizing=\"cover\" src\\$=\"[[_imageUrl(image)]]\"></iron-image>\n      <div class=\"description\">\n        [[image.description]]\n      </div>\n      <div class=\"layout horizontal\" style=\"width: 100%;\">\n        <div class=\"photographer\">\n          [[image.photographer_name]]\n        </div>\n        <div class=\"editMenu layout horizontal flex end-justified\" hidden\\$=\"[[!hasImageAccess(image, post)]]\">\n          <paper-icon-button aria-label\\$=\"[[t('edit')]]\" icon=\"create\" on-tap=\"_openEdit\"></paper-icon-button>\n          <paper-icon-button aria-label\\$=\"[[t('delete')]]\" icon=\"clear\" on-tap=\"_openDelete\"></paper-icon-button>\n        </div>\n      </div>\n      <yp-point-comment-list class=\"commentsList\" image=\"[[image]]\"></yp-point-comment-list>\n    </paper-material>\n"]);_templateObject2_cc0a1a304fe511e9ab8b8d361f77d375=function _templateObject2_cc0a1a304fe511e9ab8b8d361f77d375(){return data};return data}function _templateObject_cc0a1a304fe511e9ab8b8d361f77d375(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"iron-flex iron-flex-alignment\">\n\n      :host {\n        display: block;\n      }\n\n      .item {\n        @apply --layout-horizontal;\n      }\n\n      .main-container {\n        @apply --layout-horizontal;\n        background-color: var(--primary-background-color);\n      }\n\n      .point {\n        padding-top: 32px;\n        padding-bottom: 32px;\n        padding-left: 24px;\n        padding-right: 24px;\n        @apply --layout-vertical;\n        width: 398px;\n      }\n\n      .pointInputMaterial {\n        padding-top: 24px;\n        padding-left: 16px;\n        padding-right: 16px;\n        margin-bottom: 16px;\n        background-color: #FFF;\n      }\n\n      paper-toast {\n        z-index: 9999;\n      }\n\n      paper-material {\n        background-color: #fff;\n      }\n\n      yp-point {\n        padding-top: 8px;\n      }\n\n      .pointMaterial {\n        padding-top: 8px;\n        background-color: #FFF;\n        padding-left: 0;\n        padding-right: 0;\n        width: 430px;\n        margin-bottom: 12px;\n      }\n\n      .thumbIcon {\n        height: 64px;\n        width: 64px;\n        padding-bottom: 16px;\n        color: var(--primary-color);\n      }\n\n      .editIcon {\n        height: 28px;\n        width: 28px;\n        padding-bottom: 16px;\n        color: var(--primary-color);\n      }\n\n      .addPointFab {\n        width: 100%;\n        color: #FFF;\n        margin-bottom: 18px;\n      }\n\n      paper-textarea {\n        --paper-input-container-label: {\n          font-size: 22px;\n          height: 30px;\n          overflow: visible;\n          color: #AAAAAA;\n        }\n      }\n\n      .howToWriteInfoText {\n        padding-top: 4px;\n        color: var(--primary-color);\n      }\n\n      .point .main-container .topContainer {\n        background-color: var(--primary-background-color) !important;\n      }\n\n      .penContainer {\n        margin-top: 42px;\n      }\n\n      .upOrDown {\n        margin-top: 72px;\n      }\n\n      paper-radio-button {\n        --paper-radio-button-checked-color: var(--accent-color) !important;\n        font-size: 16px;\n      }\n\n      #pointUpOrDownMaterial {\n        margin-top: 16px;\n        width: 100%;\n      }\n\n      .mobileFab {\n        margin-top: 8px;\n      }\n\n      paper-button {\n        color: #FFF;\n        background-color: var(--accent-color);\n      }\n\n      @media (max-width: 985px) {\n        .pointInputMaterial {\n          width: 100%;\n          max-width: 568px;\n          font-size: 14px;\n          padding-top: 4px;\n          margin-top: 0;\n        }\n\n        .pointMaterial {\n          width: 100%;\n          max-width: 600px;\n          padding-left: 0;\n          padding-right: 0;\n        }\n\n        #pointUpOrDownMaterial {\n          margin-top: 0;\n        }\n\n        .main-container {\n          width: 100%;\n        }\n\n        iron-list {\n          width: 100vw;\n        }\n\n        .pointMaterial {\n        }\n      }\n\n      @media (max-width: 420px) {\n        .pointInputMaterial {\n          width: 90%;\n          max-width: 90%;\n        }\n      }\n\n      .mobilePaperTextArea {\n        --paper-input-container-label: {\n          font-size: 19px;\n        };\n      }\n\n      .pointMainHeader {\n        font-size: 26px;\n        margin-bottom: 16px;\n        color: #555;\n      }\n\n      #pointUpMaterialNotUsed {\n        border-top: solid 2px;\n        border-top-color:  var(--master-point-up-color);\n      }\n\n      #pointDownMaterialNotUsed {\n        border-top: solid 2px;\n        border-top-color: var(--master-point-down-color);\n      }\n\n      .pointElement {\n        margin-bottom: 18px;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      iron-list {\n        height: 80vh;\n      }\n\n      iron-list {\n        --iron-list-items-container: {\n        };\n      }\n\n      :focus {\n        outline: none;\n      }\n\n      #ironListMobile[debate-disabled] {\n        margin-top: 16px;\n      }\n\n      .mainSpinner {\n        margin: 32px;\n      }\n\n      paper-button[disabled] {\n        background-color: #333;\n        color: #FFF;\n      }\n\n      .uploadNotLoggedIn {\n        min-width: 100px;\n        background-color: #FFF;\n        color: #000;\n        margin-bottom: 24px;\n      }\n\n      .uploadNotLoggedIn > .icon {\n        padding-right: 8px;\n      }\n\n      .pointButtons {\n        margin-bottom: 4px;\n      }\n\n      .bottomDiv {\n        margin-bottom: 64px;\n      }\n\n      .uploadSection {\n        justify-content: space-evenly;\n        width: 50%;\n        margin-left: 8px;\n        margin-right: 8px;\n        vertical-align: top;\n      }\n    </style>\n    <lite-signal on-lite-signal-yp-language=\"_languageEvent\"></lite-signal>\n    <lite-signal on-lite-signal-yp-update-points-for-post=\"_loadNewPointsIfNeeded\"></lite-signal>\n    <lite-signal on-lite-signal-logged-in=\"_userLoggedIn\"></lite-signal>\n\n    <iron-media-query query=\"(min-width: 985px)\" query-matches=\"{{largeMode}}\"></iron-media-query>\n\n    <div class=\"layout horizontal center-center\" hidden$=\"[[ajaxActive]]\">\n      <yp-ajax id=\"ajax\" large-spinner=\"\" active$=\"{{ajaxActive}}\" on-response=\"_response\"></yp-ajax>\n    </div>\n\n    <template is=\"dom-if\" if=\"[[largeMode]]\" restamp=\"\">\n      <div class=\"layout vertical topContainer\">\n        <div class=\"main-container\">\n          <div class=\"point\">\n            <template is=\"dom-if\" if=\"[[!post.Group.configuration.alternativePointForHeader]]\">\n              <div class=\"pointMainHeader layout horizontal center-center\">\n                [[t('pointsFor')]]\n              </div>\n            </template>\n\n            <template is=\"dom-if\" if=\"[[post.Group.configuration.alternativePointForHeader]]\">\n              <div class=\"pointMainHeader layout horizontal center-center\">\n                [[post.Group.configuration.alternativePointForHeader]]\n              </div>\n            </template>\n\n            <paper-material id=\"pointUpMaterial\" elevation=\"1\" class=\"pointInputMaterial layout vertical\" animated=\"\" hidden$=\"[[post.Group.configuration.disableDebate]]\">\n\n              <paper-textarea id=\"up_point\" on-tap=\"focusUpPoint\" on-focus=\"focusTextArea\" on-blur=\"blurTextArea\" value=\"{{textValueUp}}\" label$=\"[[labelUp]]\" always-float-label=\"[[_floatIfValueOrIE()]]\" char-counter=\"\" rows=\"2\" hidden$=\"[[hideUpText]]\" max-rows=\"3\" maxlength=\"500\">\n              </paper-textarea>\n\n              <div class=\"horizontal end-justified layout\" hidden$=\"[[post.Group.configuration.hideEmoji]]\">\n                <emoji-selector id=\"pointUpEmojiSelector\" hidden$=\"[[hideUpText]]\"></emoji-selector>\n              </div>\n\n              <div class=\"layout horizontal center-justified\">\n                <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointVideoUploads]]\">\n                  <div hidden$=\"[[hideUpVideo]]\" class=\"uploadSection\">\n                    <div class=\"layout vertical center-center self-start\" hidden$=\"[[!loggedInUser]]\">\n                      <yp-file-upload id=\"videoFileUploadUp\" upload-limit-seconds=\"[[post.Group.configuration.videoPointUploadLimitSec]]\" current-file=\"{{hasCurrentUpVideo}}\" container-type=\"points\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" video-upload=\"\" method=\"POST\" on-success=\"_videoUpUploaded\">\n                        <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n                        <span>[[t('uploadVideoPointFor')]]</span>\n                      </yp-file-upload>\n                    </div>\n                    <div class=\"layout horizontal center-center\">\n                      <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                        <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n                        [[t('uploadVideoPointFor')]]\n                      </paper-button>\n                    </div>\n                  </div>\n                </template>\n\n                <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointAudioUploads]]\">\n                  <div hidden$=\"[[hideUpAudio]]\" class=\"uploadSection\">\n                    <div class=\"layout vertical center-center\" hidden$=\"[[!loggedInUser]]\">\n                      <yp-file-upload id=\"audioFileUploadUp\" current-file=\"{{hasCurrentUpAudio}}\" container-type=\"points\" upload-limit-seconds=\"[[post.Group.configuration.audioPointUploadLimitSec]]\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" audio-upload=\"\" method=\"POST\" on-success=\"_audioUpUploaded\">\n                        <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n                        <span>[[t('uploadAudioPointFor')]]</span>\n                      </yp-file-upload>\n                    </div>\n                    <div class=\"layout horizontal center-center\">\n                      <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                        <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n                        [[t('uploadAudioPointFor')]]\n                      </paper-button>\n                    </div>\n                  </div>\n                </template>\n              </div>\n\n              <div hidden=\"[[!ifLengthUpIsRight]]\">\n                <div class=\"addPointFab layout horizontal center-center\">\n                  <paper-button raised=\"\" class=\"submitButton\" disabled$=\"[[addPointDisabled]]\" icon=\"add\" mini=\"\" elevation=\"3\" on-tap=\"addPointUp\" title=\"[[t('point.add_up')]]\">[[t('postPoint')]]</paper-button>\n                </div>\n              </div>\n            </paper-material>\n\n            <div id=\"allUpPoints\">\n              <iron-list id=\"ironListUp\" items=\"[[upPoints]]\" as=\"point\" scroll-target=\"document\" scroll-offset=\"550\">\n                <template>\n                  <div class=\"item\" tabindex$=\"[[tabIndex]]\">\n                    <paper-material id=\"point[[point.id]]\" elevation=\"1\" animated=\"\" class=\"pointMaterial\">\n                      <yp-point point=\"[[point]]\"></yp-point>\n                    </paper-material>\n                  </div>\n                </template>\n              </iron-list>\n            </div>\n          </div>\n\n          <div class=\"point\">\n            <template is=\"dom-if\" if=\"[[!post.Group.configuration.alternativePointAgainstHeader]]\">\n              <div class=\"pointMainHeader layout horizontal center-center\">\n                [[t('pointsAgainst')]]\n              </div>\n            </template>\n\n            <template is=\"dom-if\" if=\"[[post.Group.configuration.alternativePointAgainstHeader]]\">\n              <div class=\"pointMainHeader layout horizontal center-center\">\n                [[post.Group.configuration.alternativePointAgainstHeader]]\n              </div>\n            </template>\n\n\n            <paper-material id=\"pointDownMaterial\" elevation=\"1\" class=\"pointInputMaterial layout vertical\" animated=\"\" hidden$=\"[[post.Group.configuration.disableDebate]]\">\n\n              <paper-textarea id=\"down_point\" on-tap=\"focusDownPoint\" on-focus=\"focusTextArea\" on-blur=\"blurTextArea\" value=\"{{textValueDown}}\" label$=\"[[labelDown]]\" char-counter=\"\" rows=\"2\" hidden$=\"[[hideDownText]]\" always-float-label=\"[[_floatIfValueOrIE()]]\" max-rows=\"5\" maxlength=\"500\">\n              </paper-textarea>\n\n              <div class=\"horizontal end-justified layout\" hidden$=\"[[post.Group.configuration.hideEmoji]]\">\n                <emoji-selector id=\"pointDownEmojiSelector\" hidden$=\"[[hideDownText]]\"></emoji-selector>\n              </div>\n\n              <div class=\"layout horizontal center-justified\">\n                <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointVideoUploads]]\">\n                  <div hidden$=\"[[hideDownVideo]]\" class=\"uploadSection\">\n                    <div class=\"layout vertical center-center self-start\" hidden$=\"[[!loggedInUser]]\">\n                      <yp-file-upload id=\"videoFileUploadDown\" current-file=\"{{hasCurrentDownVideo}}\" container-type=\"points\" upload-limit-seconds=\"[[post.Group.configuration.videoPointUploadLimitSec]]\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" video-upload=\"\" method=\"POST\" on-success=\"_videoDownUploaded\">\n                        <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n                        <span>[[t('uploadVideoPointAgainst')]]</span>\n                      </yp-file-upload>\n                    </div>\n                    <div class=\"layout horizontal center-center\">\n                      <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                        <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n                        [[t('uploadVideoPointAgainst')]]\n                      </paper-button>\n                    </div>\n                  </div>\n                </template>\n\n                <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointAudioUploads]]\">\n                  <div hidden$=\"[[hideDownAudio]]\" class=\"uploadSection\">\n                    <div class=\"layout vertical center-center\" hidden$=\"[[!loggedInUser]]\">\n                      <yp-file-upload id=\"audioFileUploadDown\" current-file=\"{{hasCurrentDownAudio}}\" container-type=\"points\" upload-limit-seconds=\"[[post.Group.configuration.audioPointUploadLimitSec]]\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" audio-upload=\"\" method=\"POST\" on-success=\"_audioDownUploaded\">\n                        <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n                        <span>[[t('uploadAudioPointAgainst')]]</span>\n                      </yp-file-upload>\n                    </div>\n                    <div class=\"layout horizontal center-center\">\n                      <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                        <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n                        [[t('uploadAudioPointAgainst')]]\n                      </paper-button>\n                    </div>\n                  </div>\n                </template>\n              </div>\n\n              <div hidden=\"[[!ifLengthDownIsRight]]\">\n                <div class=\"addPointFab layout horizontal center-center\">\n                  <paper-button raised=\"\" disabled$=\"[[addPointDisabled]]\" icon=\"add\" elevation=\"3\" on-tap=\"addPointDown\" title=\"[[t('point.add_down')]]\">[[t('postPoint')]]</paper-button>\n                </div>\n              </div>\n            </paper-material>\n\n            <div id=\"allDownPoints\">\n              <iron-list id=\"ironListDown\" items=\"[[downPoints]]\" as=\"point\" scroll-target=\"document\" scroll-offset=\"550\">\n                <template>\n                  <div class=\"item\" tabindex$=\"[[tabIndex]]\">\n                    <paper-material id=\"point[[point.id]]\" elevation=\"1\" animated=\"\" class=\"pointMaterial\">\n                      <yp-point point=\"[[point]]\"></yp-point>\n                    </paper-material>\n                  </div>\n                </template>\n              </iron-list>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <template is=\"dom-if\" if=\"[[!largeMode]]\" restamp=\"\">\n      <div class=\"layout vertical center-center\">\n        <paper-material id=\"pointUpOrDownMaterial\" elevation=\"1\" class=\"pointInputMaterial layout vertical\" animated=\"\" hidden$=\"[[post.Group.configuration.disableDebate]]\">\n          <paper-textarea id=\"mobileUpOrDownPoint\" class=\"mobilePaperTextArea\" on-tap=\"focusDownPoint\" on-focus=\"focusTextArea\" on-blur=\"blurTextArea\" value=\"{{textValueMobileUpOrDown}}\" label=\"[[labelMobileUpOrDown]]\" char-counter=\"\" rows=\"2\" hidden$=\"[[hideMobileText]]\" max-rows=\"3\" maxlength=\"500\"></paper-textarea>\n          <div class=\"layout vertical end-justified\">\n            <div class=\"layout horizontal center-center pointButtons\">\n              <paper-radio-group id=\"upOrDown\" attribute-for-selected=\"name\" class=\"layout horizontal\" selected=\"{{pointUpOrDownSelected}}\">\n                <paper-radio-button name=\"pointFor\">[[t('pointForShort')]]</paper-radio-button>\n                <paper-radio-button name=\"pointAgainst\">[[t('pointAgainstShort')]]</paper-radio-button>\n              </paper-radio-group>\n              <div class=\"flex\"></div>\n              <div hidden$=\"[[hideMobileText]]\">\n                <emoji-selector id=\"pointUpDownEmojiSelector\" hidden$=\"[[post.Group.configuration.hideEmoji]]\"></emoji-selector>\n              </div>\n            </div>\n\n            <div class=\"layout horizontal center-justified\">\n              <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointVideoUploads]]\">\n                <div hidden$=\"[[hideMobileVideo]]\" class=\"uploadSection\">\n                  <div class=\"layout vertical center-center self-start\" hidden$=\"[[!loggedInUser]]\">\n                    <yp-file-upload id=\"videoFileUploadMobile\" current-file=\"{{hasCurrentMobileVideo}}\" container-type=\"points\" upload-limit-seconds=\"[[post.Group.configuration.videoPointUploadLimitSec]]\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" video-upload=\"\" method=\"POST\" on-success=\"_videoMobileUploaded\">\n                      <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n\n                      <span hidden$=\"[[!selectedPointForMobile]]\">[[t('uploadVideoPointFor')]]</span>\n                      <span hidden$=\"[[selectedPointForMobile]]\">[[t('uploadVideoPointAgainst')]]</span>\n                    </yp-file-upload>\n                  </div>\n                  <div class=\"layout horizontal center-center\">\n                    <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                      <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n                      <span hidden$=\"[[!selectedPointForMobile]]\">[[t('uploadVideoPointFor')]]</span>\n                      <span hidden$=\"[[selectedPointForMobile]]\">[[t('uploadVideoPointAgainst')]]</span>\n                    </paper-button>\n                  </div>\n                </div>\n              </template>\n              <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointAudioUploads]]\">\n                <div hidden$=\"[[hideMobileAudio]]\" class=\"uploadSection\">\n                  <div class=\"layout vertical center-center  self-start\" hidden$=\"[[!loggedInUser]]\">\n                    <yp-file-upload id=\"audioFileUploadMobile\" current-file=\"{{hasCurrentMobileAudio}}\" container-type=\"points\" upload-limit-seconds=\"[[post.Group.configuration.audioPointUploadLimitSec]]\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" audio-upload=\"\" method=\"POST\" on-success=\"_audioMobileUploaded\">\n                      <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n\n                      <span hidden$=\"[[!selectedPointForMobile]]\">[[t('uploadAudioPointFor')]]</span>\n                      <span hidden$=\"[[selectedPointForMobile]]\">[[t('uploadAudioPointAgainst')]]</span>\n                    </yp-file-upload>\n                  </div>\n                  <div class=\"layout horizontal center-center\">\n                    <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                      <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n                      <span hidden$=\"[[!selectedPointForMobile]]\">[[t('uploadAudioPointFor')]]</span>\n                      <span hidden$=\"[[selectedPointForMobile]]\">[[t('uploadAudioPointAgainst')]]</span>\n                    </paper-button>\n                  </div>\n                </div>\n              </template>\n            </div>\n\n          </div>\n          <div hidden=\"[[!ifLengthMobileRight]]\">\n            <div class=\"addPointFab layout horizontal center-center mobileFab\">\n              <paper-button raised=\"\" disabled$=\"[[addPointDisabled]]\" icon=\"add\" elevation=\"3\" on-tap=\"addMobilePointUpOrDown\" title=\"[[t('postPoint')]]\">\n                <span hidden$=\"[[!selectedPointForMobile]]\">[[t('postPointFor')]]</span>\n                <span hidden$=\"[[selectedPointForMobile]]\">[[t('postPointAgainst')]]</span>\n              </paper-button>\n            </div>\n          </div>\n        </paper-material>\n      </div>\n      <div class=\"layout vertical center-center\">\n        <iron-list id=\"ironListMobile\" debate-disabled$=\"[[post.Group.configuration.disableDebate]]\" items=\"[[points]]\" as=\"point\" scroll-target=\"document\" scroll-offset=\"[[mobileScrollOffset]]\">\n          <template>\n            <div class=\"item layout vertical center-center\" tabindex$=\"[[tabIndex]]\">\n              <paper-material id=\"point[[point.id]]\" elevation=\"1\" animated=\"\" class=\"pointMaterial\">\n                <yp-point point=\"[[point]]\"></yp-point>\n              </paper-material>\n            </div>\n          </template>\n        </iron-list>\n      </div>\n    </template>\n\n    <div class=\"layout vertical center-center\">\n      <yp-ajax id=\"newPointsAjax\" on-response=\"_newPointsResponse\"></yp-ajax>\n      <yp-ajax id=\"newPointAjax\" on-error=\"_newPointError\" method=\"POST\" url=\"/api/points\" on-response=\"_newPointResponse\"></yp-ajax>\n    </div>\n\n    <paper-toast id=\"newPointToast\" text=\"[[newPointTextCombined]]\"></paper-toast>\n"],["\n    <style include=\"iron-flex iron-flex-alignment\">\n\n      :host {\n        display: block;\n      }\n\n      .item {\n        @apply --layout-horizontal;\n      }\n\n      .main-container {\n        @apply --layout-horizontal;\n        background-color: var(--primary-background-color);\n      }\n\n      .point {\n        padding-top: 32px;\n        padding-bottom: 32px;\n        padding-left: 24px;\n        padding-right: 24px;\n        @apply --layout-vertical;\n        width: 398px;\n      }\n\n      .pointInputMaterial {\n        padding-top: 24px;\n        padding-left: 16px;\n        padding-right: 16px;\n        margin-bottom: 16px;\n        background-color: #FFF;\n      }\n\n      paper-toast {\n        z-index: 9999;\n      }\n\n      paper-material {\n        background-color: #fff;\n      }\n\n      yp-point {\n        padding-top: 8px;\n      }\n\n      .pointMaterial {\n        padding-top: 8px;\n        background-color: #FFF;\n        padding-left: 0;\n        padding-right: 0;\n        width: 430px;\n        margin-bottom: 12px;\n      }\n\n      .thumbIcon {\n        height: 64px;\n        width: 64px;\n        padding-bottom: 16px;\n        color: var(--primary-color);\n      }\n\n      .editIcon {\n        height: 28px;\n        width: 28px;\n        padding-bottom: 16px;\n        color: var(--primary-color);\n      }\n\n      .addPointFab {\n        width: 100%;\n        color: #FFF;\n        margin-bottom: 18px;\n      }\n\n      paper-textarea {\n        --paper-input-container-label: {\n          font-size: 22px;\n          height: 30px;\n          overflow: visible;\n          color: #AAAAAA;\n        }\n      }\n\n      .howToWriteInfoText {\n        padding-top: 4px;\n        color: var(--primary-color);\n      }\n\n      .point .main-container .topContainer {\n        background-color: var(--primary-background-color) !important;\n      }\n\n      .penContainer {\n        margin-top: 42px;\n      }\n\n      .upOrDown {\n        margin-top: 72px;\n      }\n\n      paper-radio-button {\n        --paper-radio-button-checked-color: var(--accent-color) !important;\n        font-size: 16px;\n      }\n\n      #pointUpOrDownMaterial {\n        margin-top: 16px;\n        width: 100%;\n      }\n\n      .mobileFab {\n        margin-top: 8px;\n      }\n\n      paper-button {\n        color: #FFF;\n        background-color: var(--accent-color);\n      }\n\n      @media (max-width: 985px) {\n        .pointInputMaterial {\n          width: 100%;\n          max-width: 568px;\n          font-size: 14px;\n          padding-top: 4px;\n          margin-top: 0;\n        }\n\n        .pointMaterial {\n          width: 100%;\n          max-width: 600px;\n          padding-left: 0;\n          padding-right: 0;\n        }\n\n        #pointUpOrDownMaterial {\n          margin-top: 0;\n        }\n\n        .main-container {\n          width: 100%;\n        }\n\n        iron-list {\n          width: 100vw;\n        }\n\n        .pointMaterial {\n        }\n      }\n\n      @media (max-width: 420px) {\n        .pointInputMaterial {\n          width: 90%;\n          max-width: 90%;\n        }\n      }\n\n      .mobilePaperTextArea {\n        --paper-input-container-label: {\n          font-size: 19px;\n        };\n      }\n\n      .pointMainHeader {\n        font-size: 26px;\n        margin-bottom: 16px;\n        color: #555;\n      }\n\n      #pointUpMaterialNotUsed {\n        border-top: solid 2px;\n        border-top-color:  var(--master-point-up-color);\n      }\n\n      #pointDownMaterialNotUsed {\n        border-top: solid 2px;\n        border-top-color: var(--master-point-down-color);\n      }\n\n      .pointElement {\n        margin-bottom: 18px;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      iron-list {\n        height: 80vh;\n      }\n\n      iron-list {\n        --iron-list-items-container: {\n        };\n      }\n\n      :focus {\n        outline: none;\n      }\n\n      #ironListMobile[debate-disabled] {\n        margin-top: 16px;\n      }\n\n      .mainSpinner {\n        margin: 32px;\n      }\n\n      paper-button[disabled] {\n        background-color: #333;\n        color: #FFF;\n      }\n\n      .uploadNotLoggedIn {\n        min-width: 100px;\n        background-color: #FFF;\n        color: #000;\n        margin-bottom: 24px;\n      }\n\n      .uploadNotLoggedIn > .icon {\n        padding-right: 8px;\n      }\n\n      .pointButtons {\n        margin-bottom: 4px;\n      }\n\n      .bottomDiv {\n        margin-bottom: 64px;\n      }\n\n      .uploadSection {\n        justify-content: space-evenly;\n        width: 50%;\n        margin-left: 8px;\n        margin-right: 8px;\n        vertical-align: top;\n      }\n    </style>\n    <lite-signal on-lite-signal-yp-language=\"_languageEvent\"></lite-signal>\n    <lite-signal on-lite-signal-yp-update-points-for-post=\"_loadNewPointsIfNeeded\"></lite-signal>\n    <lite-signal on-lite-signal-logged-in=\"_userLoggedIn\"></lite-signal>\n\n    <iron-media-query query=\"(min-width: 985px)\" query-matches=\"{{largeMode}}\"></iron-media-query>\n\n    <div class=\"layout horizontal center-center\" hidden\\$=\"[[ajaxActive]]\">\n      <yp-ajax id=\"ajax\" large-spinner=\"\" active\\$=\"{{ajaxActive}}\" on-response=\"_response\"></yp-ajax>\n    </div>\n\n    <template is=\"dom-if\" if=\"[[largeMode]]\" restamp=\"\">\n      <div class=\"layout vertical topContainer\">\n        <div class=\"main-container\">\n          <div class=\"point\">\n            <template is=\"dom-if\" if=\"[[!post.Group.configuration.alternativePointForHeader]]\">\n              <div class=\"pointMainHeader layout horizontal center-center\">\n                [[t('pointsFor')]]\n              </div>\n            </template>\n\n            <template is=\"dom-if\" if=\"[[post.Group.configuration.alternativePointForHeader]]\">\n              <div class=\"pointMainHeader layout horizontal center-center\">\n                [[post.Group.configuration.alternativePointForHeader]]\n              </div>\n            </template>\n\n            <paper-material id=\"pointUpMaterial\" elevation=\"1\" class=\"pointInputMaterial layout vertical\" animated=\"\" hidden\\$=\"[[post.Group.configuration.disableDebate]]\">\n\n              <paper-textarea id=\"up_point\" on-tap=\"focusUpPoint\" on-focus=\"focusTextArea\" on-blur=\"blurTextArea\" value=\"{{textValueUp}}\" label\\$=\"[[labelUp]]\" always-float-label=\"[[_floatIfValueOrIE()]]\" char-counter=\"\" rows=\"2\" hidden\\$=\"[[hideUpText]]\" max-rows=\"3\" maxlength=\"500\">\n              </paper-textarea>\n\n              <div class=\"horizontal end-justified layout\" hidden\\$=\"[[post.Group.configuration.hideEmoji]]\">\n                <emoji-selector id=\"pointUpEmojiSelector\" hidden\\$=\"[[hideUpText]]\"></emoji-selector>\n              </div>\n\n              <div class=\"layout horizontal center-justified\">\n                <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointVideoUploads]]\">\n                  <div hidden\\$=\"[[hideUpVideo]]\" class=\"uploadSection\">\n                    <div class=\"layout vertical center-center self-start\" hidden\\$=\"[[!loggedInUser]]\">\n                      <yp-file-upload id=\"videoFileUploadUp\" upload-limit-seconds=\"[[post.Group.configuration.videoPointUploadLimitSec]]\" current-file=\"{{hasCurrentUpVideo}}\" container-type=\"points\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" video-upload=\"\" method=\"POST\" on-success=\"_videoUpUploaded\">\n                        <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n                        <span>[[t('uploadVideoPointFor')]]</span>\n                      </yp-file-upload>\n                    </div>\n                    <div class=\"layout horizontal center-center\">\n                      <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden\\$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                        <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n                        [[t('uploadVideoPointFor')]]\n                      </paper-button>\n                    </div>\n                  </div>\n                </template>\n\n                <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointAudioUploads]]\">\n                  <div hidden\\$=\"[[hideUpAudio]]\" class=\"uploadSection\">\n                    <div class=\"layout vertical center-center\" hidden\\$=\"[[!loggedInUser]]\">\n                      <yp-file-upload id=\"audioFileUploadUp\" current-file=\"{{hasCurrentUpAudio}}\" container-type=\"points\" upload-limit-seconds=\"[[post.Group.configuration.audioPointUploadLimitSec]]\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" audio-upload=\"\" method=\"POST\" on-success=\"_audioUpUploaded\">\n                        <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n                        <span>[[t('uploadAudioPointFor')]]</span>\n                      </yp-file-upload>\n                    </div>\n                    <div class=\"layout horizontal center-center\">\n                      <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden\\$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                        <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n                        [[t('uploadAudioPointFor')]]\n                      </paper-button>\n                    </div>\n                  </div>\n                </template>\n              </div>\n\n              <div hidden=\"[[!ifLengthUpIsRight]]\">\n                <div class=\"addPointFab layout horizontal center-center\">\n                  <paper-button raised=\"\" class=\"submitButton\" disabled\\$=\"[[addPointDisabled]]\" icon=\"add\" mini=\"\" elevation=\"3\" on-tap=\"addPointUp\" title=\"[[t('point.add_up')]]\">[[t('postPoint')]]</paper-button>\n                </div>\n              </div>\n            </paper-material>\n\n            <div id=\"allUpPoints\">\n              <iron-list id=\"ironListUp\" items=\"[[upPoints]]\" as=\"point\" scroll-target=\"document\" scroll-offset=\"550\">\n                <template>\n                  <div class=\"item\" tabindex\\$=\"[[tabIndex]]\">\n                    <paper-material id=\"point[[point.id]]\" elevation=\"1\" animated=\"\" class=\"pointMaterial\">\n                      <yp-point point=\"[[point]]\"></yp-point>\n                    </paper-material>\n                  </div>\n                </template>\n              </iron-list>\n            </div>\n          </div>\n\n          <div class=\"point\">\n            <template is=\"dom-if\" if=\"[[!post.Group.configuration.alternativePointAgainstHeader]]\">\n              <div class=\"pointMainHeader layout horizontal center-center\">\n                [[t('pointsAgainst')]]\n              </div>\n            </template>\n\n            <template is=\"dom-if\" if=\"[[post.Group.configuration.alternativePointAgainstHeader]]\">\n              <div class=\"pointMainHeader layout horizontal center-center\">\n                [[post.Group.configuration.alternativePointAgainstHeader]]\n              </div>\n            </template>\n\n\n            <paper-material id=\"pointDownMaterial\" elevation=\"1\" class=\"pointInputMaterial layout vertical\" animated=\"\" hidden\\$=\"[[post.Group.configuration.disableDebate]]\">\n\n              <paper-textarea id=\"down_point\" on-tap=\"focusDownPoint\" on-focus=\"focusTextArea\" on-blur=\"blurTextArea\" value=\"{{textValueDown}}\" label\\$=\"[[labelDown]]\" char-counter=\"\" rows=\"2\" hidden\\$=\"[[hideDownText]]\" always-float-label=\"[[_floatIfValueOrIE()]]\" max-rows=\"5\" maxlength=\"500\">\n              </paper-textarea>\n\n              <div class=\"horizontal end-justified layout\" hidden\\$=\"[[post.Group.configuration.hideEmoji]]\">\n                <emoji-selector id=\"pointDownEmojiSelector\" hidden\\$=\"[[hideDownText]]\"></emoji-selector>\n              </div>\n\n              <div class=\"layout horizontal center-justified\">\n                <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointVideoUploads]]\">\n                  <div hidden\\$=\"[[hideDownVideo]]\" class=\"uploadSection\">\n                    <div class=\"layout vertical center-center self-start\" hidden\\$=\"[[!loggedInUser]]\">\n                      <yp-file-upload id=\"videoFileUploadDown\" current-file=\"{{hasCurrentDownVideo}}\" container-type=\"points\" upload-limit-seconds=\"[[post.Group.configuration.videoPointUploadLimitSec]]\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" video-upload=\"\" method=\"POST\" on-success=\"_videoDownUploaded\">\n                        <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n                        <span>[[t('uploadVideoPointAgainst')]]</span>\n                      </yp-file-upload>\n                    </div>\n                    <div class=\"layout horizontal center-center\">\n                      <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden\\$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                        <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n                        [[t('uploadVideoPointAgainst')]]\n                      </paper-button>\n                    </div>\n                  </div>\n                </template>\n\n                <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointAudioUploads]]\">\n                  <div hidden\\$=\"[[hideDownAudio]]\" class=\"uploadSection\">\n                    <div class=\"layout vertical center-center\" hidden\\$=\"[[!loggedInUser]]\">\n                      <yp-file-upload id=\"audioFileUploadDown\" current-file=\"{{hasCurrentDownAudio}}\" container-type=\"points\" upload-limit-seconds=\"[[post.Group.configuration.audioPointUploadLimitSec]]\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" audio-upload=\"\" method=\"POST\" on-success=\"_audioDownUploaded\">\n                        <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n                        <span>[[t('uploadAudioPointAgainst')]]</span>\n                      </yp-file-upload>\n                    </div>\n                    <div class=\"layout horizontal center-center\">\n                      <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden\\$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                        <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n                        [[t('uploadAudioPointAgainst')]]\n                      </paper-button>\n                    </div>\n                  </div>\n                </template>\n              </div>\n\n              <div hidden=\"[[!ifLengthDownIsRight]]\">\n                <div class=\"addPointFab layout horizontal center-center\">\n                  <paper-button raised=\"\" disabled\\$=\"[[addPointDisabled]]\" icon=\"add\" elevation=\"3\" on-tap=\"addPointDown\" title=\"[[t('point.add_down')]]\">[[t('postPoint')]]</paper-button>\n                </div>\n              </div>\n            </paper-material>\n\n            <div id=\"allDownPoints\">\n              <iron-list id=\"ironListDown\" items=\"[[downPoints]]\" as=\"point\" scroll-target=\"document\" scroll-offset=\"550\">\n                <template>\n                  <div class=\"item\" tabindex\\$=\"[[tabIndex]]\">\n                    <paper-material id=\"point[[point.id]]\" elevation=\"1\" animated=\"\" class=\"pointMaterial\">\n                      <yp-point point=\"[[point]]\"></yp-point>\n                    </paper-material>\n                  </div>\n                </template>\n              </iron-list>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <template is=\"dom-if\" if=\"[[!largeMode]]\" restamp=\"\">\n      <div class=\"layout vertical center-center\">\n        <paper-material id=\"pointUpOrDownMaterial\" elevation=\"1\" class=\"pointInputMaterial layout vertical\" animated=\"\" hidden\\$=\"[[post.Group.configuration.disableDebate]]\">\n          <paper-textarea id=\"mobileUpOrDownPoint\" class=\"mobilePaperTextArea\" on-tap=\"focusDownPoint\" on-focus=\"focusTextArea\" on-blur=\"blurTextArea\" value=\"{{textValueMobileUpOrDown}}\" label=\"[[labelMobileUpOrDown]]\" char-counter=\"\" rows=\"2\" hidden\\$=\"[[hideMobileText]]\" max-rows=\"3\" maxlength=\"500\"></paper-textarea>\n          <div class=\"layout vertical end-justified\">\n            <div class=\"layout horizontal center-center pointButtons\">\n              <paper-radio-group id=\"upOrDown\" attribute-for-selected=\"name\" class=\"layout horizontal\" selected=\"{{pointUpOrDownSelected}}\">\n                <paper-radio-button name=\"pointFor\">[[t('pointForShort')]]</paper-radio-button>\n                <paper-radio-button name=\"pointAgainst\">[[t('pointAgainstShort')]]</paper-radio-button>\n              </paper-radio-group>\n              <div class=\"flex\"></div>\n              <div hidden\\$=\"[[hideMobileText]]\">\n                <emoji-selector id=\"pointUpDownEmojiSelector\" hidden\\$=\"[[post.Group.configuration.hideEmoji]]\"></emoji-selector>\n              </div>\n            </div>\n\n            <div class=\"layout horizontal center-justified\">\n              <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointVideoUploads]]\">\n                <div hidden\\$=\"[[hideMobileVideo]]\" class=\"uploadSection\">\n                  <div class=\"layout vertical center-center self-start\" hidden\\$=\"[[!loggedInUser]]\">\n                    <yp-file-upload id=\"videoFileUploadMobile\" current-file=\"{{hasCurrentMobileVideo}}\" container-type=\"points\" upload-limit-seconds=\"[[post.Group.configuration.videoPointUploadLimitSec]]\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" video-upload=\"\" method=\"POST\" on-success=\"_videoMobileUploaded\">\n                      <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n\n                      <span hidden\\$=\"[[!selectedPointForMobile]]\">[[t('uploadVideoPointFor')]]</span>\n                      <span hidden\\$=\"[[selectedPointForMobile]]\">[[t('uploadVideoPointAgainst')]]</span>\n                    </yp-file-upload>\n                  </div>\n                  <div class=\"layout horizontal center-center\">\n                    <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden\\$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                      <iron-icon class=\"icon\" icon=\"videocam\"></iron-icon>\n                      <span hidden\\$=\"[[!selectedPointForMobile]]\">[[t('uploadVideoPointFor')]]</span>\n                      <span hidden\\$=\"[[selectedPointForMobile]]\">[[t('uploadVideoPointAgainst')]]</span>\n                    </paper-button>\n                  </div>\n                </div>\n              </template>\n              <template is=\"dom-if\" if=\"[[post.Group.configuration.allowPointAudioUploads]]\">\n                <div hidden\\$=\"[[hideMobileAudio]]\" class=\"uploadSection\">\n                  <div class=\"layout vertical center-center  self-start\" hidden\\$=\"[[!loggedInUser]]\">\n                    <yp-file-upload id=\"audioFileUploadMobile\" current-file=\"{{hasCurrentMobileAudio}}\" container-type=\"points\" upload-limit-seconds=\"[[post.Group.configuration.audioPointUploadLimitSec]]\" group=\"[[post.Group]]\" raised=\"true\" multi=\"false\" audio-upload=\"\" method=\"POST\" on-success=\"_audioMobileUploaded\">\n                      <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n\n                      <span hidden\\$=\"[[!selectedPointForMobile]]\">[[t('uploadAudioPointFor')]]</span>\n                      <span hidden\\$=\"[[selectedPointForMobile]]\">[[t('uploadAudioPointAgainst')]]</span>\n                    </yp-file-upload>\n                  </div>\n                  <div class=\"layout horizontal center-center\">\n                    <paper-button class=\"uploadNotLoggedIn\" raised=\"\" hidden\\$=\"[[loggedInUser]]\" on-tap=\"_openLogin\">\n                      <iron-icon class=\"icon\" icon=\"keyboard-voice\"></iron-icon>\n                      <span hidden\\$=\"[[!selectedPointForMobile]]\">[[t('uploadAudioPointFor')]]</span>\n                      <span hidden\\$=\"[[selectedPointForMobile]]\">[[t('uploadAudioPointAgainst')]]</span>\n                    </paper-button>\n                  </div>\n                </div>\n              </template>\n            </div>\n\n          </div>\n          <div hidden=\"[[!ifLengthMobileRight]]\">\n            <div class=\"addPointFab layout horizontal center-center mobileFab\">\n              <paper-button raised=\"\" disabled\\$=\"[[addPointDisabled]]\" icon=\"add\" elevation=\"3\" on-tap=\"addMobilePointUpOrDown\" title=\"[[t('postPoint')]]\">\n                <span hidden\\$=\"[[!selectedPointForMobile]]\">[[t('postPointFor')]]</span>\n                <span hidden\\$=\"[[selectedPointForMobile]]\">[[t('postPointAgainst')]]</span>\n              </paper-button>\n            </div>\n          </div>\n        </paper-material>\n      </div>\n      <div class=\"layout vertical center-center\">\n        <iron-list id=\"ironListMobile\" debate-disabled\\$=\"[[post.Group.configuration.disableDebate]]\" items=\"[[points]]\" as=\"point\" scroll-target=\"document\" scroll-offset=\"[[mobileScrollOffset]]\">\n          <template>\n            <div class=\"item layout vertical center-center\" tabindex\\$=\"[[tabIndex]]\">\n              <paper-material id=\"point[[point.id]]\" elevation=\"1\" animated=\"\" class=\"pointMaterial\">\n                <yp-point point=\"[[point]]\"></yp-point>\n              </paper-material>\n            </div>\n          </template>\n        </iron-list>\n      </div>\n    </template>\n\n    <div class=\"layout vertical center-center\">\n      <yp-ajax id=\"newPointsAjax\" on-response=\"_newPointsResponse\"></yp-ajax>\n      <yp-ajax id=\"newPointAjax\" on-error=\"_newPointError\" method=\"POST\" url=\"/api/points\" on-response=\"_newPointResponse\"></yp-ajax>\n    </div>\n\n    <paper-toast id=\"newPointToast\" text=\"[[newPointTextCombined]]\"></paper-toast>\n"]);_templateObject_cc0a1a304fe511e9ab8b8d361f77d375=function _templateObject_cc0a1a304fe511e9ab8b8d361f77d375(){return data};return data}import{ypLanguageBehavior,ypTruncateBehavior,Polymer,html,ypLoggedInUserBehavior,dom,AccessHelpers,ypMediaFormatsBehavior,ypThemeBehavior,YpNewsTabSelected,ypGotoBehavior,ypNumberFormatBehavior}from"../yp-app/yp-app.js";Polymer({_template:html(_templateObject_cc0a1a304fe511e9ab8b8d361f77d375()),is:"yp-post-points",behaviors:[ypLanguageBehavior,ypTruncateBehavior,ypLoggedInUserBehavior],properties:{host:String,downPoints:{type:Array,value:[]},upPoints:{type:Array,value:[]},textValueUp:{type:String,notify:!0,value:""},textValueDown:{type:String,notify:!0,value:""},newPointTextCombined:{type:String},post:{type:Object,observer:"_postChanged"},points:{type:Array,value:null,observer:"_pointsChanged"},largeMode:{type:Boolean,value:!1,observer:"_updateEmojiBindings"},textValueMobileUpOrDown:String,labelMobileUpOrDown:String,labelUp:String,labelDown:String,pointUpOrDownSelected:{type:String,observer:"_pointUpOrDownSelectedChanged",value:"pointFor"},latestPointCreatedAt:{type:Date,value:null},scrollToId:{type:String,value:null},ironListResizeScrollThreshold:{type:Number,computed:"_ironListResizeScrollThreshold(largeMode)"},ironListPaddingTop:{type:Number,computed:"_ironListPaddingTop(wide)"},ifLengthUpIsRight:{type:Boolean,value:!1,computed:"ifLengthIsRight(\"up\",textValueUp, uploadedVideoUpId, uploadedAudioUpId)"},ifLengthDownIsRight:{type:Boolean,value:!1,computed:"ifLengthIsRight(\"down\", textValueDown, uploadedVideoDownId, uploadedAudioDownId)"},ifLengthMobileRight:{type:Boolean,value:!1,computed:"ifLengthIsRight(\"mobile\", textValueMobileUpOrDown, uploadedVideoMobileId, uploadedAudioMobileId)"},addPointDisabled:{type:Boolean,value:!1},mobileScrollOffset:{type:Number,computed:"_mobileScrollOffset(largeMode,post)"},ajaxActive:{type:Boolean,value:!1},uploadedVideoUpId:{type:String,value:null},uploadedVideoDownId:{type:String,value:null},uploadedVideoMobileId:{type:String,value:null},currentVideoId:{type:String,value:null},hideUpVideo:{type:Boolean,value:!1},hideDownVideo:{type:Boolean,value:!1},hideMobileVideo:{type:Boolean,value:!1},uploadedAudioUpId:{type:String,value:null},uploadedAudioDownId:{type:String,value:null},uploadedAudioMobileId:{type:String,value:null},currentAudioId:{type:String,value:null},hideUpAudio:{type:Boolean,value:!1},hideDownAudio:{type:Boolean,value:!1},hideMobileAudio:{type:Boolean,value:!1},hideUpText:{type:Boolean,value:!1},hideDownText:{type:Boolean,value:!1},hideMobileText:{type:Boolean,value:!1},selectedPointForMobile:{type:Boolean,value:!0},isAndroid:{type:Boolean,value:!1},hasCurrentUpVideo:{type:String,observer:"_hasCurrentUpVideo"},hasCurrentDownVideo:{type:String,observer:"_hasCurrentDownVideo"},hasCurrentMobileVideo:{type:String,observer:"_hasCurrentMobileVideo"},hasCurrentUpAudio:{type:String,observer:"_hasCurrentUpAudio"},hasCurrentDownAudio:{type:String,observer:"_hasCurrentDownAudio"},hasCurrentMobileAudio:{type:String,observer:"_hasCurrentMobileAudio"},storedPoints:{type:Array,value:null}},_openLogin:function _openLogin(){this.fire("yp-open-login")},_videoUpUploaded:function _videoUpUploaded(event,detail){this.set("uploadedVideoUpId",detail.videoId)},_videoDownUploaded:function _videoDownUploaded(event,detail){this.set("uploadedVideoDownId",detail.videoId)},_videoMobileUploaded:function _videoMobileUploaded(event,detail){this.set("uploadedVideoMobileId",detail.videoId)},_audioUpUploaded:function _audioUpUploaded(event,detail){this.set("uploadedAudioUpId",detail.audioId)},_audioDownUploaded:function _audioDownUploaded(event,detail){this.set("uploadedAudioDownId",detail.audioId)},_audioMobileUploaded:function _audioMobileUploaded(event,detail){this.set("uploadedAudioMobileId",detail.audioId)},_mobileScrollOffset:function _mobileScrollOffset(large,post){if(!large&&post){var element=this.$$("#ironListMobile");if(element){var top=element.getBoundingClientRect().top;if(0>=top){top=800}return top}else{console.warn("Can't find mobile list element, returning 800");return 800}}},_newPointError:function _newPointError(){this.set("addPointDisabled",!1)},_ironListResizeScrollThreshold:function _ironListResizeScrollThreshold(largeMode){if(largeMode){return 300}else{return 300}},_ironListPaddingTop:function _ironListPaddingTop(largeMode){if(largeMode){return 600}else{return 500}},ready:function ready(){var ua=navigator.userAgent.toLowerCase(),isAndroid=-1<ua.indexOf("android");if(isAndroid){this.set("isAndroid",!0)}window.addEventListener("resize",this._processStoredPoints.bind(this))},detached:function detached(){window.removeEventListener("resize",this._processStoredPoints)},listeners:{"yp-point-deleted":"_pointDeleted","yp-update-point-in-list":"_updatePointInLists"},observers:["_setupPointTextStartState(pointUpOrDownSelected, post)"],_setupPointTextStartState:function _setupPointTextStartState(pointUpOrDownSelected,post){if(post){this._pointUpOrDownSelectedChanged(pointUpOrDownSelected)}},_loadNewPointsIfNeeded:function _loadNewPointsIfNeeded(event,detail){if(this.post&&this.post.id==detail.postId){if(this.latestPointCreatedAt){this.$.newPointsAjax.url="/api/posts/"+this.post.id+"/newPoints";this.$.newPointsAjax.params={latestPointCreatedAt:this.latestPointCreatedAt};this.$.newPointsAjax.generateRequest()}else{console.error("Trying to send point without latestPointCreatedAt")}}},_newPointsResponse:function _newPointsResponse(event,detail){var points=this._preProcessPoints(detail.response);points.forEach(function(point){this._insertNewPoint(point)}.bind(this));this._updateCounterInfo()},_pointDeleted:function _pointDeleted(){this.$.ajax.generateRequest()},_pointsChanged:function _pointsChanged(points){if(points){this._updateEmojiBindings()}},_updateEmojiBindings:function _updateEmojiBindings(){this.async(function(){if(this.largeMode){var upPoint=this.$$("#up_point"),downPoint=this.$$("#down_point"),upEmoji=this.$$("#pointUpEmojiSelector"),downEmoji=this.$$("#pointDownEmojiSelector");if(upPoint&&downPoint&&upEmoji&&downEmoji){upEmoji.inputTarget=upPoint;downEmoji.inputTarget=downPoint}else{console.warn("Wide: Can't bind emojis :(")}}else{var upDownPoint=this.$$("#mobileUpOrDownPoint"),upDownEmoji=this.$$("#pointUpDownEmojiSelector");if(upDownPoint&&upDownEmoji){upDownEmoji.inputTarget=upDownPoint}else{console.warn("Small: Can't bind emojis :(")}}}.bind(this),500)},_pointUpOrDownSelectedChanged:function _pointUpOrDownSelectedChanged(newValue){if("pointFor"==newValue){if(this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.alternativePointForLabel){this.set("labelMobileUpOrDown",this.post.Group.configuration.alternativePointForLabel)}else{this.set("labelMobileUpOrDown",this.t("point.for"))}this.set("selectedPointForMobile",!0)}else if("pointAgainst"==newValue){if(this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.alternativePointAgainstLabel){this.set("labelMobileUpOrDown",this.post.Group.configuration.alternativePointAgainstLabel)}else{this.set("labelMobileUpOrDown",this.t("point.against"))}this.set("selectedPointForMobile",!1)}},_clearVideo:function _clearVideo(){this.set("uploadedVideoUpId",null);this.set("uploadedVideoDownId",null);this.set("uploadedVideoMobileId",null);this.set("currentVideoId",null);this.set("hideUpVideo",!1);this.set("hideDownVideo",!1);this.set("hideMobileVideo",!1);if(this.$$("#videoFileUploadUp"))this.$$("#videoFileUploadUp").clear();if(this.$$("#videoFileUploadDown"))this.$$("#videoFileUploadDown").clear();if(this.$$("#videoFileUploadMobile"))this.$$("#videoFileUploadMobile").clear()},_clearAudio:function _clearAudio(){this.set("uploadedAudioUpId",null);this.set("uploadedAudioDownId",null);this.set("uploadedAudioMobileId",null);this.set("currentAudioId",null);this.set("hideUpAudio",!1);this.set("hideDownAudio",!1);this.set("hideMobileAudio",!1);if(this.$$("#audioFileUploadUp"))this.$$("#audioFileUploadUp").clear();if(this.$$("#audioFileUploadDown"))this.$$("#audioFileUploadDown").clear();if(this.$$("#audioFileUploadMobile"))this.$$("#audioFileUploadMobile").clear()},_postChanged:function _postChanged(newPost){this.set("points",null);this.set("upPoints",null);this.set("downPoints",null);this.set("latestPointCreatedAt",null);this.set("storedPoints",null);this._clearVideo();this._clearAudio();if(newPost){if(this.host){this.$.ajax.url=this.host+"/api/posts/"+newPost.id+"/points"}else{this.$.ajax.url="/api/posts/"+newPost.id+"/points"}this.$.ajax.generateRequest();if(this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.alternativePointForLabel){this.set("labelUp",this.post.Group.configuration.alternativePointForLabel)}else{this.set("labelUp",this.t("point.for"))}if(this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.alternativePointAgainstLabel){this.set("labelDown",this.post.Group.configuration.alternativePointAgainstLabel)}else{this.set("labelDown",this.t("point.against"))}}},removeElementsByClass:function removeElementsByClass(rootElement,className){var elements=rootElement.getElementsByClassName(className);while(0<elements.length){elements[0].parentNode.removeChild(elements[0])}},_processStoredPoints:function _processStoredPoints(){console.info("_processStoredPoints");if(null===this.upPoints){if(this.storedPoints&&0<this.storedPoints.length){for(var upPoints=[],downPoints=[],i=0;i<this.storedPoints.length;i++){if(0<this.storedPoints[i].value){upPoints.push(this.storedPoints[i])}else if(0>this.storedPoints[i].value){downPoints.push(this.storedPoints[i])}}this.set("upPoints",upPoints);this.set("downPoints",downPoints)}else{this.set("upPoints",[]);this.set("downPoints",[]);this.set("points",[])}}else{console.log("Landscape points already setup")}if(!this.largeMode&&!this.points){this.set("points",this.interleaveArrays(this.upPoints,this.downPoints))}},_response:function _response(event,detail){this.set("storedPoints",this._preProcessPoints(detail.response));this._processStoredPoints();this.removeElementsByClass(this,"inserted-outside-list");this._updateCounterInfo();this._scrollPointIntoView();this._checkForMultipleLanguages()},_updatePointInLists:function _updatePointInLists(event,changedPoint){this.upPoints.forEach(function(point,index){if(point.id===changedPoint.id){this.upPoints[index]=changedPoint}}.bind(this));this.downPoints.forEach(function(point,index){if(point.id===changedPoint.id){this.downPoints[index]=changedPoint}}.bind(this));if(this.points&&0<this.points.length){this.points.forEach(function(point,index){if(point.id===changedPoint.id){this.points[index]=changedPoint}}.bind(this))}},_checkForMultipleLanguages:function _checkForMultipleLanguages(){if(!localStorage.getItem("dontPromptForAutoTranslation")&&!sessionStorage.getItem("dontPromptForAutoTranslation")){var firstLanguage,multipleLanguages=!1;this.upPoints.forEach(function(point){if(point.language&&!multipleLanguages){if(!firstLanguage&&"??"!==point.language){firstLanguage=point.language}else if(firstLanguage&&firstLanguage!==point.language&&"??"!==point.language){multipleLanguages=!0;console.info("Multiple point languages: "+firstLanguage+" and "+point.language)}}});if(!multipleLanguages){this.downPoints.forEach(function(point){if(point.language&&!multipleLanguages){if(!firstLanguage&&"??"!==point.language){firstLanguage=point.language}else if(firstLanguage&&firstLanguage!=point.language&&"??"!==point.language){multipleLanguages=!0;console.info("Multiple point languages: "+firstLanguage+" and "+point.language)}}})}if(multipleLanguages){dom(document).querySelector("yp-app").getDialogAsync("autoTranslateDialog",function(dialog){dialog.openLaterIfAutoTranslationEnabled()}.bind(this))}}},interleaveArrays:function interleaveArrays(arrayA,arrayB){for(var arrs=[arrayA,arrayB],maxLength=Math.max.apply(Math,arrs.map(function(arr){return arr.length})),result=[],i=0;i<maxLength;++i){arrs.forEach(function(arr){if(arr.length>i){result.push(arr[i])}})}return result},_scrollPointIntoView:function _scrollPointIntoView(){if(this.scrollToId){this.async(function(){var hasFoundIt=!1;if(!this.largeMode){this.points.forEach(function(point){if(!hasFoundIt&&point.id==this.scrollToId){this.$$("#ironListMobile").scrollToItem(point);hasFoundIt=!0}}.bind(this))}else{this.upPoints.forEach(function(point){if(!hasFoundIt&&point.id==this.scrollToId){this.$$("#ironListUp").scrollToItem(point);hasFoundIt=!0}}.bind(this));if(!hasFoundIt){this.downPoints.forEach(function(point){if(!hasFoundIt&&point.id==this.scrollToId){this.$$("#ironListDown").scrollToItem(point);hasFoundIt=!0}}.bind(this))}}if(hasFoundIt){this.async(function(){var point=this.$$("#point"+this.scrollToId);if(point){point.elevation=5;point.elevation=1;point.elevation=5;this.async(function(){point.elevation=1}.bind(this),7e3)}else{console.warn("Can't find point to elevate")}this.set("scrollToId",null)},50)}},20)}},_floatIfValueOrIE:function _floatIfValueOrIE(value){var ie11=/Trident.*rv[ :]*11\./.test(navigator.userAgent);return ie11||value},_preProcessPoints:function _preProcessPoints(points){for(var i=0;i<points.length;i++){if(!this.latestPointCreatedAt||!this.latestPointCreatedAt||points[i].created_at>this.latestPointCreatedAt){this.set("latestPointCreatedAt",points[i].created_at)}if(points[i].PointRevisions[points[i].PointRevisions.length-1]&&points[i].PointRevisions[points[i].PointRevisions.length-1].content){points[i].latestContent=points[i].PointRevisions[points[i].PointRevisions.length-1].content}else{console.warn("No content for point in _preProcessPoints")}}return points},_updateCounterInfo:function _updateCounterInfo(){if(this.largeMode){this.fire("yp-debate-info",{count:this.upPoints.length+this.downPoints.length,firstPoint:this.upPoints[0]})}else{this.fire("yp-debate-info",{count:this.points.length,firstPoint:this.points[0]})}},_insertNewPoint:function _insertNewPoint(point){if(this.largeMode){if(0<point.value){this.unshift("upPoints",point);this.async(function(){this.$$("#ironListUp").fire("iron-resize")},700)}else if(0>point.value){this.unshift("downPoints",point);this.async(function(){this.$$("#ironListDown").fire("iron-resize")},700)}}else{this.unshift("points",point);this.async(function(){this.$$("#ironListMobile").fire("iron-resize")},700)}},_newPointResponse:function _newPointResponse(inEvent,inDetail){if(this.currentVideoId){var point=this._preProcessPoints([inDetail.response])[0],ajax=document.createElement("iron-ajax");ajax.handleAs="json";ajax.contentType="application/json";ajax.url="/api/videos/"+point.id+"/completeAndAddToPoint";ajax.method="PUT";ajax.body={videoId:this.currentVideoId,appLanguage:this.language};ajax.addEventListener("response",function(event,detail){this._completeNewPointResponse(event,event.detail);window.appGlobals.showSpeechToTextInfoIfNeeded()}.bind(this));ajax.generateRequest()}else if(this.currentAudioId){var point=this._preProcessPoints([inDetail.response])[0],ajax=document.createElement("iron-ajax");ajax.handleAs="json";ajax.contentType="application/json";ajax.url="/api/audios/"+point.id+"/completeAndAddToPoint";ajax.method="PUT";ajax.body={audioId:this.currentAudioId,appLanguage:this.language};ajax.addEventListener("response",function(event,detail){this._completeNewPointResponse(event,event.detail);window.appGlobals.showSpeechToTextInfoIfNeeded()}.bind(this));ajax.generateRequest()}else{this._completeNewPointResponse(inEvent,inDetail)}},_completeNewPointResponse:function _completeNewPointResponse(event,detail){this.set("addPointDisabled",!1);var point=this._preProcessPoints([detail.response])[0];if(this.currentVideoId){point.checkTranscriptFor="video"}else if(this.currentAudioId){point.checkTranscriptFor="audio"}if(0<point.value){this.newPointTextCombined=this.t("point.forAdded")+" "+this.truncate(point.content,21);this.set("textValueUp","")}else{this.newPointTextCombined=this.t("point.againstAdded")+" "+this.truncate(point.content,21);this.set("textValueDown","")}this.set("textValueMobileUpOrDown","");this._insertNewPoint(point);this.set("post.counter_points",this.post.counter_points+1);this.$.newPointToast.show();this._updateCounterInfo();if(0<point.value){window.appGlobals.activity("completed","newPointFor")}else{window.appGlobals.activity("completed","newPointAgainst")}this._clearVideo();this._clearAudio()},addPointUp:function addPointUp(){this.addPoint(this.textValueUp,1,this.uploadedVideoUpId,this.uploadedAudioUpId);window.appGlobals.activity("add","pointUp")},addPointDown:function addPointDown(){this.addPoint(this.textValueDown,-1,this.uploadedVideoDownId,this.uploadedAudioDownId);window.appGlobals.activity("add","pointDown")},addMobilePointUpOrDown:function addMobilePointUpOrDown(){if("pointFor"==this.pointUpOrDownSelected){this.addPoint(this.textValueMobileUpOrDown,1,this.uploadedVideoMobileId,this.uploadedAudioMobileId);window.appGlobals.activity("add","pointUp")}else if("pointAgainst"==this.pointUpOrDownSelected){this.addPoint(this.textValueMobileUpOrDown,-1,this.uploadedVideoMobileId,this.uploadedAudioMobileId);window.appGlobals.activity("add","pointDown")}},addPoint:function addPoint(content,value,videoId,audioId){if(!0===window.appUser.loggedIn()){this.$.newPointAjax.url="/api/points/"+this.post.group_id;this.$.newPointAjax.body={postId:this.post.id,content:content,value:value};this.$.newPointAjax.generateRequest();this.set("addPointDisabled",!0);if(videoId)this.set("currentVideoId",videoId);else if(audioId)this.set("currentAudioId",audioId)}else{window.appUser.loginForNewPoint(this,{content:content,value:value})}},focusUpPoint:function focusUpPoint(){window.appGlobals.activity("focus","pointUp")},focusDownPoint:function focusDownPoint(){window.appGlobals.activity("focus","pointDown")},focusTextArea:function focusTextArea(event){event.currentTarget.parentElement.elevation=3},blurTextArea:function blurTextArea(event){event.currentTarget.parentElement.elevation=1},_hasCurrentUpVideo:function _hasCurrentUpVideo(value){if(value){this.set("hideUpAudio",!0);this.set("hideUpText",!0)}else{this.set("hideUpAudio",!1);this.set("hideUpText",!1)}},_hasCurrentDownVideo:function _hasCurrentDownVideo(value){if(value){this.set("hideDownAudio",!0);this.set("hideDownText",!0)}else{this.set("hideDownAudio",!1);this.set("hideDownText",!1)}},_hasCurrentUpAudio:function _hasCurrentUpAudio(value){if(value){this.set("hideUpVideo",!0);this.set("hideUpText",!0)}else{this.set("hideUpVideo",!1);this.set("hideUpText",!1)}},_hasCurrentDownAudio:function _hasCurrentDownAudio(value){if(value){this.set("hideDownVideo",!0);this.set("hideDownText",!0)}else{this.set("hideDownVideo",!1);this.set("hideDownText",!1)}},_hasCurrentMobileVideo:function _hasCurrentMobileVideo(value){if(value){this.set("hideMobileAudio",!0);this.set("hideMobileText",!0)}else{this.set("hideMobileAudio",!1);this.set("hideMobileText",!1)}},_hasCurrentMobileAudio:function _hasCurrentMobileAudio(value){if(value){this.set("hideMobileVideo",!0);this.set("hideMobileText",!0)}else{this.set("hideMobileVideo",!1);this.set("hideMobileText",!1)}},ifLengthIsRight:function ifLengthIsRight(type,textValue,hasVideoId,hasAudioId){if(null!=hasVideoId){if("up"===type){this.set("hideUpVideo",!1);this.set("hideUpAudio",!0);this.set("hideUpText",!0)}if("down"===type){this.set("hideDownVideo",!1);this.set("hideDownAudio",!0);this.set("hideDownText",!0)}if("mobile"===type){this.set("hideMobileVideo",!1);this.set("hideMobileAudio",!0);this.set("hideMobileText",!0)}return!0}else if(null!=hasAudioId){if("up"===type){this.set("hideUpAudio",!1);this.set("hideUpVideo",!0);this.set("hideUpText",!0)}if("down"===type){this.set("hideDownAudio",!1);this.set("hideDownVideo",!0);this.set("hideDownText",!0)}if("mobile"===type){this.set("hideMobileAudio",!1);this.set("hideMobileVideo",!0);this.set("hideMobileText",!0)}return!0}else if(null!=textValue&&0===textValue.length){if("up"===type){this.set("hideUpVideo",!1);this.set("hideUpAudio",!1);this.set("hideUpText",!1)}if("down"===type){this.set("hideDownVideo",!1);this.set("hideDownAudio",!1);this.set("hideDownText",!1)}if("mobile"===type){this.set("hideMobileVideo",!1);this.set("hideMobileAudio",!1);this.set("hideMobileText",!1)}return!1}else if(null!=textValue&&0<textValue.length){if("up"===type){this.set("hideUpVideo",!0);this.set("hideUpAudio",!0);this.set("hideUpText",!1)}if("down"===type){this.set("hideDownVideo",!0);this.set("hideDownAudio",!0);this.set("hideDownText",!1)}if("mobile"===type){this.set("hideMobileVideo",!0);this.set("hideMobileAudio",!0);this.set("hideMobileText",!1)}return!0}else if(null!=textValue&&1<textValue.length){return!0}else{return!1}}});Polymer({_template:html(_templateObject2_cc0a1a304fe511e9ab8b8d361f77d375()),is:"yp-post-user-image-card",behaviors:[ypLanguageBehavior,AccessHelpers,ypMediaFormatsBehavior],properties:{image:{type:Object},post:{type:Object}},_openEdit:function _openEdit(){window.appGlobals.activity("open","userImage.edit");dom(document).querySelector("yp-app").getDialogAsync("userImageEdit",function(dialog){dialog.setup(this.post,this.image,!1,this._refresh.bind(this));dialog.open("edit",{postId:this.post.id,userImages:!0})}.bind(this))},_openDelete:function _openDelete(){window.appGlobals.activity("open","userImage.delete");dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(dialog){dialog.setup("/api/images/"+this.post.id+"/"+this.image.id+"/user_images",this.t("userImage.deleteConfirmation"),this._refresh.bind(this));dialog.open()}.bind(this))},_refresh:function _refresh(){this.fire("refresh")},_imageUrl:function _imageUrl(image){return this.getImageFormatUrl([image],0)}});Polymer({_template:html(_templateObject3_cc0a1a304fe511e9ab8b8d361f77d375()),is:"yp-post-user-images",behaviors:[ypLanguageBehavior],properties:{images:{type:Array,value:null},post:{type:Object,observer:"_postChanged"}},_refresh:function _refresh(){this.$.ajax.generateRequest()},_postChanged:function _postChanged(newPost){if(newPost){this.$.ajax.url="/api/images/"+newPost.id+"/user_images";this.$.ajax.generateRequest()}},_newImage:function _newImage(){window.appGlobals.activity("open","newUserImage");dom(document).querySelector("yp-app").getDialogAsync("userImageEdit",function(dialog){dialog.setup(this.post,null,!0,this._refresh.bind(this));dialog.open("new",{postId:this.post.id,userImages:!0})}.bind(this))},_response:function _response(event,detail){this.set("images",detail.response);if(this.images&&0<this.images.length){this.fire("yp-post-image-count",this.images.length)}else{this.fire("yp-post-image-count",0)}}});Polymer({_template:html(_templateObject4_cc0a1a304fe511e9ab8b8d361f77d375()),is:"yp-post",behaviors:[ypLanguageBehavior,ypThemeBehavior,YpNewsTabSelected,ypGotoBehavior,ypMediaFormatsBehavior,ypNumberFormatBehavior,ypTruncateBehavior],properties:{idRoute:Object,tabRoute:Object,idRouteData:Object,tabRouteData:Object,postId:{type:Number,value:null,observer:"_postIdChanged"},host:String,post:{type:Object,value:null,notify:!0,observer:"_postChanged"},selectedTab:{type:String,value:"debate",observer:"_selectedTabChanged"},small:{type:Boolean},method:{type:String},mapActive:{type:Boolean,value:!1},wideWidth:{type:Boolean,value:!1},createFabIcon:{type:String,value:"lightbulb-outline"},disableNewPosts:{type:Boolean,value:!1},scrollToPointId:{type:String,value:null},locationHidden:{type:Boolean,value:!1}},observers:["_routeIdChanged(idRouteData.id)","_routeTabChanged(tabRouteData.tabName)"],_routeIdChanged:function _routeIdChanged(newId){if(newId){this.set("postId",newId)}},_routeTabChanged:function _routeTabChanged(newTabName){if(newTabName&&!this._isNumber(newTabName)){this.set("selectedTab",newTabName)}else if(newTabName&&this._isNumber(newTabName)){this.set("scrollToPointId",newTabName);this.set("selectedTab","debate")}},_isNumber:function _isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)},_selectedTabChanged:function _selectedTabChanged(tabName){if(this.post){this.redirectTo("/post/"+this.post.id+"/"+tabName)}if("location"==tabName){this.set("mapActive",!0)}else{this.set("mapActive",!1)}if(tabName&&window.appGlobals){window.appGlobals.activity("open","post_tab_"+tabName,"",{id:this.postId,modelType:"post"})}this.async(function(){var news=this.$$("#postNews");if(news){news.fireResize()}},300)},_newPost:function _newPost(){window.appGlobals.activity("open","newPost");dom(document).querySelector("yp-app").getDialogAsync("postEdit",function(dialog){dialog.setup(null,!0,null);dialog.open("new",{groupId:this.post.Group.id,group:this.post.Group})}.bind(this))},listeners:{"yp-debate-info":"_updateDebateInfo","yp-post-image-count":"_updatePostImageCount"},_updatePostImageCount:function _updatePostImageCount(event,imageCount){var tabCounter=this.$$("#tabCountPhotos");if(tabCounter){tabCounter.innerHTML=this.formatNumber(imageCount)}},_updateDebateInfo:function _updateDebateInfo(event,detail){var tabCounter=this.$$("#tabCountDebate");if(tabCounter){tabCounter.innerHTML=this.formatNumber(detail.count)}if(detail.firstPoint){this.$.postCard.updateDescriptionIfEmpty(detail.firstPoint.content)}},_mainContainerClasses:function _mainContainerClasses(small){if(small){return"layout horizontal wrap"}else{return"layout horizontal center-center"}},_headerClasses:function _headerClasses(small){if(small){return"layout vertical postHeader wrap"}else{return"layout horizontal postHeader"}},postName:function postName(post){if(post&&post.name){return this.truncate(this.trim(post.name),200)}else if(post){return post.short_name}},postDescription:function postDescription(post){if(post&&post.description){return this.truncate(this.trim(post.description),1e4,"...")}else{return""}},_refreshAjax:function _refreshAjax(){this.$.ajax.generateRequest()},_postChanged:function _postChanged(newValue,oldValue){},_postIdChanged:function _postIdChanged(postId){var cachedItem=window.appGlobals.cachedPostItem;if(cachedItem&&cachedItem.id==postId){this._setupAjaxUrl();this._handleIncomingPostResponse(null,{response:cachedItem});console.log("Got post from item cache")}else if(window.appGlobals.getPostFromCache(postId)){this._setupAjaxUrl();this._handleIncomingPostResponse(null,{response:window.appGlobals.getPostFromCache(postId),fromCache:!0});console.log("Got post from cache possibly from recommendations")}else{console.log("Got post from server not cache");this.set("post",null);if(postId){this._getPost();this.set("selectedTab","debate")}}},_setupAjaxUrl:function _setupAjaxUrl(){if(this.host){this.$.ajax.url=this.host+"/api/posts/"+this.postId}else{this.$.ajax.url="/api/posts/"+this.postId}},_pagesResponse:function _pagesResponse(event,detail){this.fire("yp-set-pages",detail.response)},_getPost:function _getPost(){this._setupAjaxUrl();this.$$("#ajax").retryMethodAfter401Login=this._getPost.bind(this);this.$.ajax.generateRequest()},_handleIncomingPostResponse:function _handleIncomingPostResponse(event,detail){this.set("post",detail.response);this.refresh();if(this.post.Group.configuration&&this.post.Group.configuration.canAddNewPosts!=void 0){if(!0===this.post.Group.configuration.canAddNewPosts){this.set("disableNewPosts",!1)}else{this.set("disableNewPosts",!0)}}else{this.set("disableNewPosts",!1)}if(!detail.fromCache)window.appGlobals.addPostsToCacheLater([this.post]);window.appGlobals.getNextRecommendationForGroup(this.post.group_id,this.post.id,this._processRecommendation.bind(this))},_processRecommendation:function _processRecommendation(recommendedPost){if(recommendedPost&&this.post){var postName=recommendedPost.name;if(this.wideWidth){postName=this.truncate(postName,60)}else{postName=this.truncate(postName,30)}this.fire("yp-set-next-post",{currentPostId:this.post.id,goForwardToPostId:recommendedPost.id,goForwardPostName:postName})}else{this.fire("yp-set-next-post",{currentPostId:this.post.id,goForwardToPostId:null,goForwardPostName:null});console.log("Not recommended post")}},refresh:function refresh(){if(this.post){if(null!=this.post.Group.theme_id||this.post.Group.configuration&&null!=this.post.Group.configuration.themeOverrideColorPrimary){this.setTheme(this.post.Group.theme_id,this.post.Group.configuration)}else if(this.post.Group.Community&&(null!=this.post.Group.Community.theme_id||this.post.Group.Community.configuration&&this.post.Group.Community.configuration.themeOverrideColorPrimary)){this.setTheme(this.post.Group.Community.theme_id,this.post.Group.Community.configuration)}else{this.setTheme(1)}if(!this.post.Group.Community){console.error("No community!");debugger}if(window.appGlobals){window.appGlobals.setCommunityAnalyticsTracker(this.post.Group.Community.google_analytics_code);if(this.post.Group.Community.configuration){window.appGlobals.setCommunityPixelTracker(this.post.Group.Community.configuration.facebookPixelId)}window.appGlobals.setAnonymousGroupStatus(this.post.Group)}if(this.post.Group.configuration&&null!=this.post.Group.configuration.defaultLocale){window.appGlobals.changeLocaleIfNeeded(this.post.Group.configuration.defaultLocale)}if(this.post.Group.configuration&&this.post.Group.configuration.locationHidden!=void 0){this.set("locationHidden",this.post.Group.configuration.locationHidden)}else{this.set("locationHidden",!1)}this.fire("change-header",{headerTitle:this.truncate(this.post.Group.name,80),documentTitle:this.post.name,headerDescription:"",backPath:"/group/"+this.post.group_id,backListItem:this.post,hideHelpIcon:this.post.Group.configuration&&this.post.Group.configuration.hideHelpIcon?!0:null});this.$.pagesAjax.url="/api/groups/"+this.post.Group.id+"/pages";this.$.pagesAjax.generateRequest();if(this.post.Group.configuration&&!0===this.post.Group.configuration.disableFacebookLoginForGroup){window.appGlobals.disableFacebookLoginForGroup=!0}else{window.appGlobals.disableFacebookLoginForGroup=!1}this.fire("yp-set-home-link",{type:"group",id:this.post.Group.id,name:this.post.Group.name});if(this.post.Group&&this.post.Group.Community&&this.post.Group.Community.configuration&&this.post.Group.Community.configuration.signupTermsPageId&&-1!=this.post.Group.Community.configuration.signupTermsPageId){window.appGlobals.signupTermsPageId=this.post.Group.Community.configuration.signupTermsPageId}else{window.appGlobals.signupTermsPageId=null}window.appGlobals.currentGroup=this.post.Group;if(this.post.Group.configuration&&this.post.Group.configuration.forceSecureSamlLogin){window.appGlobals.currentGroupForceSaml=!0}else{window.appGlobals.currentGroupForceSaml=!1}}},setupTopHeaderImage:function setupTopHeaderImage(image){var url="url("+this.getImageFormatUrl(image,0)+")";this.updateStyles({"--top-area-background-image":url})},computeUrl:function computeUrl(post_id){return"/api/posts/"+post_id}});